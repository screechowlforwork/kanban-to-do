var We=Object.defineProperty;var Ve=(t,a,r)=>a in t?We(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;var le=(t,a,r)=>Ve(t,typeof a!="symbol"?a+"":a,r);import{j as e,m as x,A as U}from"./vendor-motion-CY6FN1O4.js";import{a as xe,r as s,R as Me}from"./vendor-react-wGySg1uH.js";import{u as De,C as ie,a as _e,S as Pe,v as Ae,b as de,c as Ye,d as ye,M as qe,D as Je,p as Ze,h as Qe,e as Xe,T as et,f as tt}from"./vendor-dnd-DWqTrw2_.js";import{t as rt,c as ot,v as he,a as ce}from"./vendor-utils-BtutqN9Q.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var ge={},ve=xe;ge.createRoot=ve.createRoot,ge.hydrateRoot=ve.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var at={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),N=(t,a)=>{const r=s.forwardRef(({color:l="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:u,className:h="",children:p,...g},v)=>s.createElement("svg",{ref:v,...at,width:o,height:o,stroke:l,strokeWidth:u?Number(n)*24/Number(o):n,className:["lucide",`lucide-${nt(t)}`,h].join(" "),...g},[...a.map(([C,m])=>s.createElement(C,m)),...Array.isArray(p)?p:[p]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=N("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=N("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=N("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=N("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=N("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=N("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=N("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=N("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=N("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=N("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=N("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=N("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=N("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=N("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=N("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=N("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=N("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=N("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=N("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function i(...t){return rt(ot(t))}const ne={dark:"dark",light:"light",gradient:"gradient"};function be(){const t=new Date().getHours();return t>=5&&t<10?"morning":t>=10&&t<16?"day":t>=16&&t<19?"sunset":"night"}function kt(){switch(be()){case"morning":return{background:"bg-gradient-to-br from-indigo-300 via-purple-300 to-pink-300",metaThemeColor:"#C7D2FE",cardBg:"bg-white/40 backdrop-blur-xl",textPrimary:"text-slate-800",textSecondary:"text-slate-600",textMuted:"text-slate-500",sidebarBg:"bg-white/30 backdrop-blur-xl border-r border-white/30",inputBg:"bg-white/40 backdrop-blur-md border border-slate-300/50 text-slate-800 placeholder:text-slate-500",buttonBg:"bg-white/30",buttonHover:"hover:bg-white/50",addTaskButton:"border-2 border-dashed border-indigo-200/50 bg-indigo-50/30 text-indigo-800 hover:bg-white/60 hover:border-indigo-300 hover:shadow-[0_0_15px_rgba(165,180,252,0.4)] transition-all duration-300",themeSwitcher:{container:"bg-white/30 backdrop-blur-xl border border-white/50 shadow-lg shadow-indigo-500/10",button:"text-indigo-900/60 hover:text-indigo-900 hover:bg-white/40",activeButton:"bg-white/60 text-indigo-900 shadow-sm border border-white/60 backdrop-blur-md"},ghostButton:"text-indigo-800 hover:bg-indigo-50/30 hover:text-indigo-950 backdrop-blur-sm",taskCard:"bg-white/60 backdrop-blur-md border border-white/50 shadow-sm hover:bg-white/80 hover:shadow-md hover:border-indigo-100 transition-all duration-200",borderColor:"border-indigo-200/30",cardBorder:"border-white/40",cardHover:"hover:border-indigo-200/50 hover:shadow-lg",isDark:!1};case"day":return{background:"bg-gradient-to-br from-cyan-300 via-blue-300 to-indigo-400",metaThemeColor:"#A5F3FC",cardBg:"bg-blue-50/30 backdrop-blur-xl border border-white/40",textPrimary:"text-slate-800",textSecondary:"text-slate-600",textMuted:"text-slate-500",sidebarBg:"bg-white/30 backdrop-blur-xl border-r border-white/30",inputBg:"bg-white/50 backdrop-blur-md border border-blue-100/50 text-slate-800 placeholder:text-blue-900/40",buttonBg:"bg-white/30",buttonHover:"hover:bg-white/50",addTaskButton:"border-2 border-dashed border-sky-200/50 bg-sky-50/30 text-sky-900 hover:bg-white/60 hover:border-sky-300 hover:shadow-[0_0_15px_rgba(186,230,253,0.4)] transition-all duration-300",themeSwitcher:{container:"bg-white/30 backdrop-blur-xl border border-white/50 shadow-lg shadow-sky-500/10",button:"text-sky-900/60 hover:text-sky-900 hover:bg-white/40",activeButton:"bg-white/60 text-sky-950 shadow-sm border border-white/60 backdrop-blur-md"},ghostButton:"text-sky-900 hover:bg-sky-50/30 hover:text-sky-950 backdrop-blur-sm",taskCard:"bg-sky-50/60 backdrop-blur-md border border-white/60 shadow-sm hover:bg-white/90 hover:shadow-md hover:border-sky-200 transition-all duration-200",borderColor:"border-sky-200/30",cardBorder:"border-white/40",cardHover:"hover:border-sky-200/50 hover:shadow-lg",isDark:!1};case"sunset":return{background:"bg-gradient-to-br from-orange-400 via-rose-400 to-purple-500",metaThemeColor:"#FDBA74",cardBg:"bg-rose-950/10 backdrop-blur-xl border border-white/20",textPrimary:"text-white",textSecondary:"text-white/90",textMuted:"text-white/70",sidebarBg:"bg-black/10 backdrop-blur-xl border-r border-white/20",inputBg:"bg-white/20 backdrop-blur-md border border-white/30 text-white placeholder:text-white/60",buttonBg:"bg-white/20",buttonHover:"hover:bg-white/30",addTaskButton:"border-2 border-dashed border-white/40 bg-white/10 text-white hover:bg-white/20 hover:border-white/60 hover:shadow-[0_0_15px_rgba(255,255,255,0.2)] transition-all duration-300",themeSwitcher:{container:"bg-rose-950/20 backdrop-blur-md border border-white/20 shadow-lg",button:"text-white/60 hover:text-white hover:bg-white/10",activeButton:"bg-white/20 text-white border border-white/30 shadow-[0_0_10px_rgba(255,255,255,0.2)]"},ghostButton:"text-white/80 hover:bg-white/20 hover:text-white",taskCard:"bg-rose-950/20 backdrop-blur-md border border-white/20 shadow-sm hover:bg-rose-900/30 hover:border-white/30 transition-all duration-200",borderColor:"border-white/20",cardBorder:"border-white/20",cardHover:"hover:border-white/40 hover:shadow-lg",isDark:!0};case"night":default:return{background:"bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900",metaThemeColor:"#111827",cardBg:"bg-indigo-950/30 backdrop-blur-xl",textPrimary:"text-indigo-50",textSecondary:"text-indigo-200",textMuted:"text-indigo-300",sidebarBg:"bg-black/30 backdrop-blur-xl border-r border-white/10",inputBg:"bg-indigo-950/30 backdrop-blur-md border border-white/10 text-white placeholder:text-indigo-300/50",buttonBg:"bg-white/10",buttonHover:"hover:bg-white/20",addTaskButton:"border-indigo-300/20 text-indigo-300/60 hover:text-indigo-100 hover:border-indigo-300/40 hover:bg-indigo-500/10 border-dashed",themeSwitcher:{container:"bg-indigo-950/40 backdrop-blur-md border border-white/10 shadow-lg",button:"text-indigo-400 hover:text-indigo-100 hover:bg-white/10",activeButton:"bg-neon-purple text-white shadow-[0_0_15px_rgba(184,51,255,0.5)] border border-indigo-500/30"},ghostButton:"text-indigo-300 hover:bg-white/10 hover:text-white",taskCard:"bg-indigo-950/40 backdrop-blur-md border border-white/10 shadow-sm hover:bg-indigo-900/50 hover:border-white/20 transition-all duration-200",borderColor:"border-white/10",cardBorder:"border-white/10",cardHover:"hover:border-white/30 hover:shadow-lg",isDark:!0}}}const jt={dark:{background:"bg-deepblack",metaThemeColor:"#0F0F12",cardBg:"bg-[#18181b] border border-white/5",textPrimary:"text-gray-100",textSecondary:"text-gray-400",textMuted:"text-gray-500",sidebarBg:"bg-[#18181b] border-r border-white/5",inputBg:"bg-white/5 border border-white/10 text-white placeholder:text-gray-500",buttonBg:"bg-white/5",buttonHover:"hover:bg-white/10",addTaskButton:"border-gray-700 text-gray-500 hover:border-gray-500 hover:text-gray-300 hover:bg-white/5 active:bg-white/10 border-dashed",themeSwitcher:{container:"bg-black/40 backdrop-blur-md border border-white/10 shadow-lg",button:"text-gray-400 hover:text-white hover:bg-white/10",activeButton:"bg-neon-purple text-white shadow-[0_0_15px_rgba(184,51,255,0.5)] border border-white/10"},ghostButton:"text-gray-400 hover:bg-white/10 hover:text-white",taskCard:"bg-[#27272a] border border-white/5 shadow-sm hover:bg-[#3f3f46] hover:border-white/10 transition-all duration-200",borderColor:"border-white/10",cardBorder:"border-white/5",cardHover:"hover:border-white/20 hover:bg-white/10",isDark:!0},light:{background:"bg-slate-50",metaThemeColor:"#F8FAFC",cardBg:"bg-white",textPrimary:"text-slate-800",textSecondary:"text-slate-600",textMuted:"text-slate-400",sidebarBg:"bg-white border-r border-slate-200",inputBg:"bg-slate-100 border-transparent text-slate-800 placeholder:text-slate-400",buttonBg:"bg-slate-100",buttonHover:"hover:bg-slate-200",addTaskButton:"border-2 border-dashed border-slate-300 bg-white/50 text-slate-500 hover:border-slate-400 hover:text-slate-700 hover:bg-white hover:shadow-md transition-all duration-300",themeSwitcher:{container:"bg-white/80 backdrop-blur-md border border-slate-200 shadow-lg",button:"text-slate-400 hover:text-slate-700 hover:bg-slate-100",activeButton:"bg-white text-slate-800 shadow-md border border-slate-100"},ghostButton:"text-slate-500 hover:bg-slate-200 hover:text-slate-800",taskCard:"bg-white border border-slate-200 shadow-sm hover:shadow-md hover:border-slate-300 transition-all duration-200",borderColor:"border-slate-200",cardBorder:"border-slate-100 shadow-sm",cardHover:"hover:shadow-md hover:border-slate-300",isDark:!1}},ze=s.createContext(null);function Ct({children:t}){const[a,r]=s.useState(()=>{const h=localStorage.getItem("kanban-theme");return h&&Object.keys(ne).includes(h)?h:"dark"}),[l,o]=s.useState(be());s.useEffect(()=>{localStorage.setItem("kanban-theme",a)},[a]),s.useEffect(()=>{if(a!=="gradient")return;const h=setInterval(()=>{o(be())},6e4);return()=>clearInterval(h)},[a]);const n=s.useMemo(()=>a==="gradient"?kt():jt[a],[a,l]);s.useEffect(()=>{const h=document.querySelector('meta[name="theme-color"]');h&&n.metaThemeColor&&h.setAttribute("content",n.metaThemeColor)},[n.metaThemeColor]);const u={theme:a,setTheme:r,themeConfig:n,themes:ne,isDark:n.isDark};return e.jsx(ze.Provider,{value:u,children:t})}function B(){const t=s.useContext(ze);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const fe={standard:[.32,.72,0,1]},Fe={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:fe.standard}},Ge={initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.92},transition:{duration:.25,ease:fe.standard}},St={initial:{opacity:0,y:16},animate:{opacity:1,y:0,transition:{duration:.3,ease:fe.standard}}};function Nt({isOpen:t,onClose:a,title:r,children:l,size:o="md",showCloseButton:n=!0,closeOnOverlayClick:u=!0}){const{isDark:h}=B(),p={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-[95vw] max-h-[95vh]"};return t?xe.createPortal(e.jsx(U,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e.jsx(x.div,{...Fe,className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:u?a:void 0,"aria-hidden":"true"}),e.jsxs(x.div,{...Ge,role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,className:i("relative w-full rounded-2xl p-6 shadow-2xl border",p[o],h?"bg-[#1A1A1E] border-white/10 text-gray-100":"bg-white border-slate-200 text-slate-800"),children:[(r||n)&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r&&e.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:r}),n&&e.jsx("button",{onClick:a,className:i("p-2 rounded-lg transition-colors ml-auto",h?"hover:bg-white/10 text-gray-400 hover:text-white":"hover:bg-slate-100 text-slate-400 hover:text-slate-600"),"aria-label":"Close",children:e.jsx(He,{size:20})})]}),l]})]})}),document.body):null}function Tt({isOpen:t,onClose:a,onConfirm:r,title:l,message:o,confirmText:n="Confirm",cancelText:u="Cancel",variant:h="danger"}){const{isDark:p}=B(),g={danger:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700",warning:"bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700",primary:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"};return e.jsxs(Nt,{isOpen:t,onClose:a,size:"sm",showCloseButton:!1,children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:l}),e.jsx("p",{className:i("text-sm mb-6",p?"text-gray-400":"text-slate-500"),children:o}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:i("px-4 py-2.5 rounded-lg font-medium text-sm transition-colors",p?"hover:bg-white/10 text-gray-300":"hover:bg-slate-100 text-slate-600"),children:u}),e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r(),a()},className:i("px-4 py-2.5 rounded-lg font-medium text-sm text-white shadow-lg transition-all",g[h]),children:n})]})]})}s.forwardRef(function({className:a,type:r="text",error:l,...o},n){const{themeConfig:u,isDark:h}=B();return e.jsx("input",{ref:n,type:r,className:i("w-full p-3 rounded-lg outline-none transition-all duration-300",u.inputBg,h?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200",l&&"border-red-500 focus:border-red-500",a),...o})});s.forwardRef(function({className:a,error:r,...l},o){const{themeConfig:n,isDark:u}=B();return e.jsx("textarea",{ref:o,className:i("w-full p-3 rounded-lg outline-none transition-all duration-300 resize-none",n.inputBg,u?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200",r&&"border-red-500 focus:border-red-500",a),...l})});const Et=s.forwardRef(function({className:a,children:r,...l},o){const{isDark:n}=B();return e.jsx("select",{ref:o,className:i("px-3 py-2 rounded-lg border outline-none cursor-pointer appearance-none pr-8","bg-no-repeat bg-right",n?"bg-white/10 text-gray-100 border-white/20 focus:border-neon-purple":"bg-white text-slate-700 border-slate-200 focus:border-purple-500",a),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundSize:"1.25em 1.25em"},...l,children:r})}),V={HIGH:"High",MEDIUM:"Medium",LOW:"Low"},It=[{value:V.HIGH,label:"High"},{value:V.MEDIUM,label:"Medium"},{value:V.LOW,label:"Low"}],oe={yellow:"bg-yellow-200",green:"bg-green-200",blue:"bg-blue-200",pink:"bg-pink-200",orange:"bg-orange-200",purple:"bg-purple-200",white:"bg-white",red:"bg-red-200"},Mt=()=>{const t=Object.values(oe);return t[Math.floor(Math.random()*t.length)]},ke={id:"default",name:"My Project"},je=[{id:"todo",title:"Todo"},{id:"doing",title:"In Progress"},{id:"done",title:"Done"}],Dt=[{id:"1",columnId:"todo",title:"Admin APIs",content:"List admin APIs for dashboard",color:oe.yellow,priority:V.HIGH},{id:"2",columnId:"todo",title:"User Registration",content:"Develop user registration functionality with OTP delivered on SMS after email confirmation",color:oe.green,priority:V.HIGH},{id:"3",columnId:"doing",title:"Security Testing",content:"Conduct security testing",color:oe.blue,priority:V.HIGH},{id:"4",columnId:"doing",title:"Competitor Analysis",content:"Analyze competitors",color:oe.pink,priority:V.MEDIUM},{id:"5",columnId:"done",title:"UI Kit Docs",content:"Create UI kit documentation",color:oe.orange,priority:V.LOW}],ae={NEW_TASK:"n",SEARCH:"/",TOGGLE_SIDEBAR:"b",TOGGLE_THEME:"t",ESCAPE:"Escape"},ue={MOUSE_ACTIVATION_DISTANCE:8,TOUCH_DELAY:250,TOUCH_TOLERANCE:5},_t={CONFETTI_DELAY:150},Pt={High:{line:"bg-neon-red shadow-[0_0_10px_#FF3366]",badge:"bg-neon-red/10 text-neon-red border-neon-red/20",glow:"hover:shadow-[0_0_20px_rgba(255,51,102,0.3)] hover:border-neon-red/30"},Medium:{line:"bg-neon-purple shadow-[0_0_10px_#B833FF]",badge:"bg-neon-purple/10 text-neon-purple border-neon-purple/20",glow:"hover:shadow-[0_0_20px_rgba(184,51,255,0.3)] hover:border-neon-purple/30"},Low:{line:"bg-neon-blue shadow-[0_0_10px_#33E1FF]",badge:"bg-neon-blue/10 text-neon-blue border-neon-blue/20",glow:"hover:shadow-[0_0_20px_rgba(51,225,255,0.3)] hover:border-neon-blue/30"},default:{line:"bg-gray-500",badge:"bg-gray-500/10 text-gray-400 border-gray-500/20",glow:"hover:shadow-white/20 hover:border-white/30"}},At={High:{line:"bg-red-500",badge:"bg-red-100 text-red-600 border-red-200",glow:"hover:shadow-lg hover:shadow-red-100 hover:border-red-300"},Medium:{line:"bg-purple-500",badge:"bg-purple-100 text-purple-600 border-purple-200",glow:"hover:shadow-lg hover:shadow-purple-100 hover:border-purple-300"},Low:{line:"bg-blue-500",badge:"bg-blue-100 text-blue-600 border-blue-200",glow:"hover:shadow-lg hover:shadow-blue-100 hover:border-blue-300"},default:{line:"bg-gray-400",badge:"bg-gray-100 text-gray-600 border-gray-200",glow:"hover:shadow-md hover:border-gray-300"}},Ot=150;function Bt({task:t,deleteTask:a,updateTask:r,isOverlay:l}){const{themeConfig:o,isDark:n,theme:u}=B(),[h,p]=s.useState(!1),[g,v]=s.useState(!1),[C,m]=s.useState(!1),[T,M]=s.useState(!1),[A,D]=s.useState(!1),O=s.useRef(t.columnId),E=s.useRef(null),_=s.useRef(null),L=s.useRef(!1);s.useEffect(()=>{L.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]),s.useEffect(()=>{if(O.current!=="done"&&t.columnId==="done"){M(!0),navigator.vibrate&&navigator.vibrate(50);const d=setTimeout(()=>M(!1),600);return()=>clearTimeout(d)}O.current=t.columnId},[t.columnId]),s.useEffect(()=>{h&&E.current&&setTimeout(()=>{var d,S;(d=E.current)==null||d.focus(),(S=E.current)==null||S.select()},100)},[h]),s.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const{setNodeRef:R,attributes:K,listeners:Y,transform:y,transition:I,isDragging:k}=De({id:t.id,data:{type:"Task",task:t},disabled:h}),b={transition:I,transform:ie.Translate.toString(y),touchAction:"manipulation",WebkitTransform:ie.Translate.toString(y)||"translateZ(0)"},c=s.useCallback(d=>{d==null||d.stopPropagation(),d==null||d.preventDefault(),p(S=>!S),v(!1),m(!1),D(!1)},[]),f=s.useCallback(d=>{d==null||d.stopPropagation(),!h&&!k&&v(S=>!S)},[h,k]),w=s.useCallback(()=>{L.current&&!h&&(_.current=setTimeout(()=>{D(!0)},Ot))},[h]),j=s.useCallback(()=>{_.current&&clearTimeout(_.current)},[]),H=s.useCallback(d=>{d==null||d.stopPropagation(),d==null||d.preventDefault(),a(t.id)},[a,t.id]),q=n?Pt:At,J=q[t.priority]||q.default;return k?e.jsx("div",{ref:R,style:b,className:i("w-full min-h-[100px] rounded-xl border-2 border-dashed",n?"border-neon-purple/30 bg-neon-purple/5":"border-purple-300 bg-purple-50"),"aria-hidden":"true"}):h?e.jsxs(x.div,{ref:R,style:b,...K,...Ge,onClick:d=>d.stopPropagation(),onTouchEnd:d=>d.stopPropagation(),className:i("relative flex flex-col p-4 w-full rounded-xl z-50","border-2 shadow-2xl",u==="gradient"?"bg-black/60 backdrop-blur-xl border-white/30":n?"bg-[#1A1A1E] border-neon-purple/50":"bg-white border-purple-400"),role:"form","aria-label":"Edit task",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-2",children:[e.jsx(Et,{value:t.priority||V.MEDIUM,onChange:d=>r(t.id,{priority:d.target.value}),onMouseDown:d=>d.stopPropagation(),onTouchStart:d=>d.stopPropagation(),className:"text-sm touch-target",children:It.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))}),e.jsx(x.button,{whileTap:{scale:.95},onClick:c,className:i("px-4 py-2.5 rounded-lg text-sm font-medium transition-colors touch-target",n?"bg-neon-green/10 text-neon-green active:bg-neon-green/20":"bg-green-100 text-green-600 active:bg-green-200"),children:"Done"})]}),e.jsx("input",{ref:E,className:i("bg-transparent font-semibold text-lg mb-3 outline-none w-full","text-[16px]",o.textPrimary,"placeholder:opacity-50"),value:t.title,placeholder:"Task title",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),p(!1)),d.key==="Escape"&&p(!1)},onChange:d=>r(t.id,{title:d.target.value}),autoComplete:"off",autoCorrect:"on",spellCheck:"true"}),e.jsx("textarea",{className:i("bg-transparent text-sm resize-none outline-none min-h-[100px] w-full","text-[16px]",o.textSecondary,"placeholder:opacity-50"),rows:4,value:t.content,placeholder:"Add details...",onKeyDown:d=>{d.key==="Escape"&&p(!1)},onChange:d=>r(t.id,{content:d.target.value}),autoComplete:"off",autoCorrect:"on",spellCheck:"true"})]}):e.jsxs(x.div,{ref:R,style:b,layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.15}},onMouseEnter:()=>!L.current&&D(!0),onMouseLeave:()=>{D(!1),m(!1)},onTouchStart:w,onTouchEnd:j,className:i("group relative flex w-full rounded-xl overflow-hidden","transition-all duration-200 ease-out",g?"min-h-[200px]":"min-h-[100px]",l&&"scale-105 shadow-2xl rotate-2 z-50",o.taskCard,J.glow,T&&(n?"ring-2 ring-neon-green bg-neon-green/10":"ring-2 ring-green-400 bg-green-50")),role:"article","aria-label":`Task: ${t.title}`,"data-draggable":"true",children:[e.jsx(x.div,{layoutId:`priority-${t.id}`,className:i("absolute left-0 top-3 bottom-3 w-[3px] rounded-r-full",J.line)}),e.jsx("div",{...K,...Y,className:i("flex items-center justify-center px-3 min-w-[44px]","cursor-grab active:cursor-grabbing","touch-none select-none",n?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"),style:{touchAction:"none"},"aria-label":"Drag to reorder",children:e.jsx(ct,{size:18})}),e.jsxs("div",{onClick:f,onTouchEnd:d=>{k||f(d)},className:"flex-1 flex flex-col p-3 pl-1 cursor-pointer min-w-0",style:{touchAction:"manipulation"},children:[e.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:i("font-medium leading-snug text-base","break-words line-clamp-2",o.textPrimary),children:t.title})}),t.priority&&e.jsx(x.span,{layoutId:`badge-${t.id}`,className:i("text-[10px] px-2 py-0.5 rounded-full font-semibold border uppercase tracking-wider shrink-0",J.badge),children:t.priority})]}),e.jsxs("div",{className:"flex items-start gap-2 min-h-[36px]",children:[e.jsx("p",{className:i("flex-1 text-sm leading-relaxed font-light","break-words whitespace-pre-wrap",g?"":"line-clamp-2",o.textSecondary),children:t.content||e.jsx("span",{className:"italic opacity-50",children:"No description"})}),e.jsx(x.div,{animate:{rotate:g?180:0},transition:{duration:.2},children:e.jsx(Be,{size:16,className:i("shrink-0 mt-1 transition-colors",n?"text-gray-500":"text-gray-400")})})]})]}),e.jsx(U,{children:(A||C)&&e.jsx(x.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:i("absolute right-2 top-2 z-10 flex gap-1"),children:C?e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:i("flex gap-2 p-2 rounded-lg backdrop-blur-sm border",n?"bg-black/60 border-red-500/30":"bg-white/90 border-red-200"),children:[e.jsx(x.button,{whileTap:{scale:.9},onClick:H,onTouchEnd:d=>{d.stopPropagation(),H(d)},className:"text-red-400 active:text-red-300 text-xs font-bold px-3 py-1.5 touch-target",children:"Delete"}),e.jsx(x.button,{whileTap:{scale:.9},onClick:d=>{d.stopPropagation(),m(!1)},onTouchEnd:d=>{d.stopPropagation(),m(!1)},className:i("text-xs px-3 py-1.5 touch-target",n?"text-gray-400 active:text-white":"text-slate-500 active:text-slate-700"),children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(x.button,{whileTap:{scale:.9},onClick:c,onTouchEnd:d=>{d.stopPropagation(),c(d)},className:i("p-2.5 rounded-lg transition-colors touch-target",n?"bg-white/10 active:bg-white/20 text-gray-300":"bg-slate-100 active:bg-slate-200 text-slate-500"),"aria-label":"Edit task",children:e.jsx(Le,{size:16})}),e.jsx(x.button,{whileTap:{scale:.9},onClick:d=>{d.stopPropagation(),m(!0)},onTouchEnd:d=>{d.stopPropagation(),m(!0)},className:i("p-2.5 rounded-lg transition-colors touch-target",n?"bg-white/10 active:bg-red-500/20 text-gray-300 active:text-red-400":"bg-slate-100 active:bg-red-100 text-slate-500 active:text-red-500"),"aria-label":"Delete task",children:e.jsx(me,{size:16})})]})})}),e.jsx(U,{children:T&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center rounded-xl bg-black/40 backdrop-blur-[1px]",children:e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:200},className:i("p-3 rounded-full",n?"bg-neon-green/20 shadow-[0_0_20px_rgba(51,255,153,0.5)]":"bg-green-100 shadow-lg"),children:e.jsx(Oe,{size:32,className:n?"text-neon-green":"text-green-500"})})})})]})}const Ue=s.memo(Bt),Lt={todo:{borderColor:"border-gray-600",textColor:"text-gray-400",bgGlow:"bg-gray-500",shadowGlow:"shadow-[0_0_15px_rgba(75,85,99,0.3)]",dropBg:"bg-gray-500/10"},doing:{borderColor:"border-neon-blue",textColor:"text-neon-blue",bgGlow:"bg-neon-blue",shadowGlow:"shadow-[0_0_15px_rgba(51,225,255,0.3)]",dropBg:"bg-neon-blue/10"},done:{borderColor:"border-neon-green",textColor:"text-neon-green",bgGlow:"bg-neon-green",shadowGlow:"shadow-[0_0_15px_rgba(51,255,153,0.3)]",dropBg:"bg-neon-green/10"},default:{borderColor:"border-neon-purple",textColor:"text-neon-purple",bgGlow:"bg-neon-purple",shadowGlow:"shadow-[0_0_15px_rgba(184,51,255,0.3)]",dropBg:"bg-neon-purple/10"}},Rt={todo:{borderColor:"border-slate-400",textColor:"text-slate-600",bgGlow:"bg-slate-400",shadowGlow:"",dropBg:"bg-slate-100"},doing:{borderColor:"border-blue-500",textColor:"text-blue-600",bgGlow:"bg-blue-500",shadowGlow:"",dropBg:"bg-blue-50"},done:{borderColor:"border-green-500",textColor:"text-green-600",bgGlow:"bg-green-500",shadowGlow:"",dropBg:"bg-green-50"},default:{borderColor:"border-purple-500",textColor:"text-purple-600",bgGlow:"bg-purple-500",shadowGlow:"",dropBg:"bg-purple-50"}};function Ht({column:t,deleteColumn:a,updateColumn:r,createTask:l,tasks:o,deleteTask:n,updateTask:u}){const{isDark:h,theme:p,themeConfig:g}=B(),[v,C]=s.useState(!1),[m,T]=s.useState(!1),[M,A]=s.useState(!1);s.useEffect(()=>{A(typeof window<"u"&&window.innerWidth<1024)},[]);const D=s.useMemo(()=>o.map(j=>j.id),[o]),{setNodeRef:O,attributes:E,listeners:_,transform:L,transition:R,isDragging:K}=De({id:t.id,data:{type:"Column",column:t},disabled:v}),{setNodeRef:Y,isOver:y}=_e({id:`column-drop-${t.id}`,data:{type:"Column",column:t}}),I=j=>{O(j),Y(j)},k={transition:R,transform:ie.Transform.toString(L),touchAction:"manipulation",WebkitTransform:ie.Transform.toString(L)||"translateZ(0)"},b=h?Lt:Rt,c=b[t.id]||b.default;s.useEffect(()=>{y&&navigator.vibrate&&navigator.vibrate(10)},[y]);const f=j=>{if(!v&&M){if(j.target.closest("button")||j.target.closest("input"))return;T(!m)}};if(K)return e.jsx("div",{ref:I,style:k,className:i("w-full lg:min-w-[350px] lg:w-[350px] rounded-xl flex flex-col opacity-60","h-[100px] lg:h-full","border-2 border-dashed",h?"border-neon-purple/50 bg-neon-purple/5":"border-purple-300 bg-purple-50","mb-4 lg:mb-0")});const w=m&&y;return e.jsxs(x.div,{ref:I,style:k,layout:!0,id:`column-${t.id}`,"data-column":t.id,className:i("scroll-mt-32","w-full mb-4 shrink-0 flex flex-col rounded-xl","lg:mb-0 lg:min-w-[350px] lg:w-[350px] lg:h-full lg:max-h-full","transition-all duration-300",g.cardBg,!m&&y&&i("ring-2",h?"ring-neon-purple/70":"ring-purple-400",c.dropBg),w&&"scale-[1.02] shadow-lg ring-2 ring-offset-2 ring-primary/50"),children:[e.jsxs("div",{...E,..._,onClick:f,className:i("sticky top-0 z-10 h-[60px] shrink-0 cursor-grab rounded-t-xl p-4 flex items-center justify-between transition-colors duration-300","group select-none","bg-transparent border-b",g.borderColor,w&&i("rounded-xl border-b-0",h?"bg-neon-purple/20 border-neon-purple/50":"bg-purple-100 border-purple-400")),style:{touchAction:"none"},children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"lg:hidden text-gray-400",children:m?e.jsx(it,{size:18}):e.jsx(Be,{size:18})}),e.jsx(x.div,{initial:{scale:1.2},animate:{scale:1},className:i("flex justify-center items-center min-w-[28px] px-2 py-0.5 text-xs rounded-full font-bold",p==="gradient"?"bg-white/20":h?"bg-white/5":"bg-slate-100",c.textColor),children:o.length},o.length),v?e.jsx("input",{autoFocus:!0,className:i("bg-transparent outline-none font-semibold text-sm uppercase tracking-wide","text-[16px]",c.textColor),value:t.title,onChange:j=>r(t.id,j.target.value),onBlur:()=>C(!1),onKeyDown:j=>{(j.key==="Enter"||j.key==="Escape")&&C(!1)},onClick:j=>j.stopPropagation()}):e.jsx("h2",{className:i("font-semibold text-sm tracking-wide uppercase",c.textColor),children:t.title})]}),e.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j=>{j.stopPropagation(),a(t.id)},className:i("opacity-0 group-hover:opacity-100 transition-opacity p-2.5 rounded-lg touch-target","opacity-100 lg:opacity-0 touch-visible",h?"text-gray-500 hover:text-red-400 active:text-red-400 hover:bg-white/5 active:bg-white/10":"text-slate-400 hover:text-red-500 active:text-red-500 hover:bg-slate-100 active:bg-red-50"),children:e.jsx(me,{size:18})})]}),e.jsx("div",{className:i("h-[2px] w-full",c.bgGlow,c.shadowGlow)}),e.jsx(U,{initial:!1,children:!m&&e.jsxs(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:i("flex-1 flex flex-col","lg:h-full lg:opacity-100 lg:block"),children:[e.jsxs("div",{className:i("flex-1 flex flex-col gap-3 p-3","min-h-[150px]","lg:overflow-y-auto lg:overflow-x-hidden no-scrollbar"),style:{overscrollBehaviorY:"contain",WebkitOverflowScrolling:"touch"},children:[e.jsx(Pe,{items:D,strategy:Ae,children:e.jsx(U,{mode:"popLayout",children:o.map(j=>e.jsx(Ue,{task:j,deleteTask:n,updateTask:u},j.id))})}),e.jsx(U,{children:o.length===0&&!y&&e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:i("flex flex-col items-center justify-center p-8 mt-4","min-h-[120px]","border border-dashed rounded-xl text-center",h?"border-white/10 bg-white/5 text-gray-500":"border-slate-300 bg-slate-50 text-slate-400"),children:[e.jsx(ht,{size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No tasks yet"}),e.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Drop items here"})]})}),e.jsx(U,{children:y&&o.length===0&&e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:i("flex items-center justify-center p-8","min-h-[120px]","border-2 border-dashed rounded-xl",h?"border-neon-purple/70 bg-neon-purple/10 text-neon-purple":"border-purple-400 bg-purple-100 text-purple-600"),children:e.jsx(x.p,{className:"text-sm font-semibold",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:"Drop here âœ“"})})})]}),e.jsx("div",{className:"p-3 pt-0",children:e.jsxs(x.button,{whileHover:{scale:1.01},whileTap:{scale:.99},className:i("flex gap-2 items-center justify-center w-full py-3 rounded-lg touch-target","border border-dashed transition-all duration-200 bg-transparent","font-medium text-sm",g.addTaskButton),onClick:()=>l(t.id),children:[e.jsx(Re,{size:18}),"Add Task"]})})]})})]})}const Ce=s.memo(Ht);function zt({column:t,isDark:a,mode:r}){const{setNodeRef:l,isOver:o}=_e({id:`dock-column-${t.id}`,data:{type:"Column",column:t}});s.useEffect(()=>{o&&navigator.vibrate&&navigator.vibrate(20)},[o]);const n=g=>{if(r==="nav"){g.preventDefault(),g.stopPropagation();const v=document.getElementById(`column-${t.id}`);v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),navigator.vibrate&&navigator.vibrate(10))}};let u="",h="";t.id==="todo"?(u=a?"bg-gray-600":"bg-slate-200",h="shadow-gray-500/50"):t.id==="doing"?(u=a?"bg-neon-blue":"bg-blue-500",h="shadow-blue-500/50"):t.id==="done"?(u=a?"bg-neon-green":"bg-green-500",h="shadow-green-500/50"):(u=a?"bg-neon-purple":"bg-purple-500",h="shadow-purple-500/50");const p=t.title.slice(0,3).toUpperCase();return r==="nav"?e.jsx("div",{onClick:n,className:"flex flex-col items-center gap-1 cursor-pointer active:scale-90 transition-transform p-2 w-16",children:e.jsx("div",{className:i("w-12 h-12 rounded-2xl flex items-center justify-center text-[10px] font-bold shadow-sm transition-colors border border-white/5",a?"bg-[#252529] text-gray-300":"bg-white text-gray-600"),children:p})}):e.jsxs("div",{ref:l,className:i("relative flex flex-col items-center justify-end group","h-28 -mt-10 w-20","transition-all duration-200"),children:[e.jsx("div",{className:i("w-14 h-14 rounded-xl flex items-center justify-center font-bold text-sm shadow-lg transition-all duration-200 border border-white/10 z-10",o?i(u,"scale-125 -translate-y-4 text-white shadow-xl ring-2 ring-white/50",h):a?"bg-white/10 text-gray-300":"bg-white/20 text-white"),children:p}),e.jsxs("div",{className:i("absolute -top-2 bg-black/80 text-white text-[10px] px-2 py-1 rounded-md whitespace-nowrap transition-opacity duration-200",o?"opacity-100":"opacity-0"),children:["Move to ",t.title]})]})}function Ft({columns:t,isDragging:a}){const{isDark:r}=B(),l=a?"drop":"nav";return typeof document>"u"?null:xe.createPortal(e.jsx("div",{className:i("fixed z-[9999] transition-all duration-300 lg:hidden flex items-center justify-around","bottom-[calc(1rem+env(safe-area-inset-bottom))] left-4 right-4",l==="drop"?i("h-24","rounded-2xl border backdrop-blur-xl shadow-2xl px-2",r?"bg-[#1A1A1E]/95 border-white/10":"bg-black/80 border-white/20"):i("h-16","rounded-full border backdrop-blur-md shadow-lg px-4",r?"bg-[#1A1A1E]/80 border-white/5":"bg-white/80 border-slate-200")),children:t.map(o=>e.jsx(zt,{column:o,isDark:r,mode:l},o.id))}),document.body)}const Gt=[{id:ne.dark,icon:pt,label:"Dark Mode"},{id:ne.light,icon:wt,label:"Light Mode"},{id:ne.gradient,icon:ft,label:"Dynamic Mode"}];function Ke({isInline:t=!1}){const{theme:a,setTheme:r,themeConfig:l,isDark:o}=B(),n=l.themeSwitcher||{container:o?"bg-black/40 border border-white/10":"bg-white/80 border border-slate-200",button:o?"text-gray-400 hover:text-white":"text-slate-500 hover:text-slate-800",activeButton:o?"bg-neon-purple text-white":"bg-slate-800 text-white"};return e.jsx(x.div,{initial:t?{opacity:1}:{opacity:0,y:20},animate:t?{opacity:1}:{opacity:1,y:0},transition:{delay:.3},className:i(t?"relative":"fixed z-50",!t&&"bottom-[calc(1.5rem+env(safe-area-inset-bottom))] right-[calc(1.5rem+env(safe-area-inset-right))]","flex items-center gap-1 p-1.5 rounded-full transition-colors duration-300",n.container),role:"radiogroup","aria-label":"Theme selector",children:Gt.map(({id:u,icon:h,label:p})=>e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(u),title:p,"aria-label":p,"aria-checked":a===u,role:"radio",className:i("p-2.5 rounded-full transition-all duration-300 relative",a===u?n.activeButton:n.button),children:[e.jsx(h,{size:18}),a===u&&e.jsx(x.div,{layoutId:"theme-indicator",className:i("absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full",o?"bg-neon-green":"bg-green-500")})]},u))})}function Ut({stats:t}){const{themeConfig:a,isDark:r}=B(),{total:l,completed:o,percentage:n}=t,u=()=>n>=100?r?"from-neon-green to-emerald-400":"from-green-400 to-emerald-500":n>=75?r?"from-neon-blue to-cyan-400":"from-blue-400 to-cyan-500":n>=50?r?"from-neon-purple to-indigo-500":"from-purple-400 to-indigo-500":r?"from-neon-purple via-pink-500 to-neon-red":"from-purple-400 via-pink-400 to-red-400";return e.jsxs("div",{className:"flex-1 min-w-[200px] md:min-w-[300px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yt,{size:16,className:r?"text-gray-500":"text-slate-400"}),e.jsx("span",{className:i("text-sm font-medium",r?"text-gray-400":"text-slate-500"),children:"Progress"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x.span,{initial:{scale:1.2,color:r?"#33FF99":"#22c55e"},animate:{scale:1,color:r?"#f3f4f6":"#334155"},className:i("font-bold text-sm",a.textPrimary),children:[n,"%"]},n),e.jsxs("span",{className:i("text-xs",r?"text-gray-500":"text-slate-400"),children:["(",o,"/",l,")"]}),n===100&&e.jsx(x.div,{initial:{scale:0},animate:{scale:1},className:i("p-0.5 rounded-full",r?"bg-neon-green/20":"bg-green-100"),children:e.jsx(Oe,{size:14,className:r?"text-neon-green":"text-green-500"})})]})]}),e.jsxs("div",{className:i("relative w-full h-2.5 rounded-full overflow-hidden",r?"bg-gray-700/30":"bg-slate-200"),children:[e.jsx("div",{className:i("absolute inset-0 opacity-30",r?"bg-white/5":"bg-slate-100")}),e.jsx(x.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.8,ease:[.4,0,.2,1]},className:i("h-full rounded-full bg-gradient-to-r relative overflow-hidden",u(),r&&"shadow-[0_0_15px_rgba(184,51,255,0.4)]"),children:e.jsx(x.div,{animate:{x:["100%","-100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"absolute inset-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"})})]})]})}function pe(t,a){const[r,l]=s.useState(()=>{try{const u=localStorage.getItem(t);return u!==null?JSON.parse(u):a}catch(u){return console.warn(`[useLocalStorage] Error reading "${t}":`,u),a}});s.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(r))}catch(u){console.error(`[useLocalStorage] Error saving "${t}":`,u)}},[t,r]);const o=s.useCallback(u=>{l(h=>typeof u=="function"?u(h):u)},[]),n=s.useCallback(()=>{try{localStorage.removeItem(t),l(a)}catch(u){console.error(`[useLocalStorage] Error removing "${t}":`,u)}},[t,a]);return[r,o,n]}function Se(t,a,r){const l=`kanban-${a}-${t}`;return pe(l,r)}const G={PROJECTS:"kanban-projects",ACTIVE_PROJECT:"kanban-active-project",THEME:"kanban-theme",COLUMNS:t=>`kanban-columns-${t}`,TASKS:t=>`kanban-tasks-${t}`},Ne=(t,a=null)=>{try{const r=localStorage.getItem(t);return r===null?a:JSON.parse(r)}catch(r){return console.warn(`[Storage] Failed to parse "${t}":`,r),a}},re=(t,a)=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(r){console.error(`[Storage] Failed to save "${t}":`,r)}},Te=t=>{try{localStorage.removeItem(t)}catch(a){console.error(`[Storage] Failed to remove "${t}":`,a)}},Kt=t=>{const a={version:1,exportedAt:new Date().toISOString(),projects:t,projectData:{}};return t.forEach(r=>{a.projectData[r.id]={columns:Ne(G.COLUMNS(r.id),[]),tasks:Ne(G.TASKS(r.id),[])}}),a},$t=t=>{var a;try{if(!(t!=null&&t.projects)||!Array.isArray(t.projects))throw new Error("Invalid backup format: missing projects array");re(G.PROJECTS,t.projects);const r=t.activeProjectId||((a=t.projects[0])==null?void 0:a.id);return r&&re(G.ACTIVE_PROJECT,r),t.projectData&&Object.entries(t.projectData).forEach(([l,o])=>{o.columns&&re(G.COLUMNS(l),o.columns),o.tasks&&re(G.TASKS(l),o.tasks)}),t.columns&&typeof t.columns=="object"&&Object.entries(t.columns).forEach(([l,o])=>{re(G.COLUMNS(l),o)}),t.tasks&&typeof t.tasks=="object"&&Object.entries(t.tasks).forEach(([l,o])=>{re(G.TASKS(l),o)}),!0}catch(r){return console.error("[Storage] Import failed:",r),!1}};function Wt(){const[t,a]=pe(G.PROJECTS,[ke]),[r,l]=pe(G.ACTIVE_PROJECT,ke.id);s.useEffect(()=>{!t.some(v=>v.id===r)&&t.length>0&&l(t[0].id)},[t,r,l]);const o=s.useMemo(()=>t.find(g=>g.id===r)||t[0],[t,r]),n=s.useCallback(g=>{const v={id:he(),name:g.trim()||"Untitled Project",createdAt:new Date().toISOString()};return a(C=>[...C,v]),l(v.id),v},[a,l]),u=s.useCallback(g=>{var v;if(t.length<=1)return console.warn("[useProjects] Cannot delete last project"),!1;if(a(C=>C.filter(m=>m.id!==g)),Te(G.COLUMNS(g)),Te(G.TASKS(g)),r===g){const C=t.filter(m=>m.id!==g);l(((v=C[0])==null?void 0:v.id)||"")}return!0},[t,r,a,l]),h=s.useCallback((g,v)=>{a(C=>C.map(m=>m.id===g?{...m,name:v.trim()||m.name,updatedAt:new Date().toISOString()}:m))},[a]),p=s.useCallback(g=>{t.some(v=>v.id===g)&&l(g)},[t,l]);return{projects:t,activeProjectId:r,activeProject:o,createProject:n,deleteProject:u,renameProject:h,selectProject:p,setActiveProjectId:l}}const Ee=()=>{const t=["#FF3366","#33E1FF","#33FF99","#B833FF","#FFD700"];ce({particleCount:100,spread:70,origin:{y:.6},colors:t,disableForReducedMotion:!0}),setTimeout(()=>{ce({particleCount:50,angle:60,spread:55,origin:{x:0},colors:t}),ce({particleCount:50,angle:120,spread:55,origin:{x:1},colors:t})},_t.CONFETTI_DELAY)},Ie=t=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(t)};function Vt(t){const a=t==="default",[r,l]=Se(t,"columns",je),[o,n]=Se(t,"tasks",a?Dt:[]),[u,h]=s.useState(null),[p,g]=s.useState(null),[v,C]=s.useState(""),m=s.useRef(!1),T=s.useMemo(()=>r.map(b=>b.id),[r]),M=s.useMemo(()=>{if(!v.trim())return o;const b=v.toLowerCase();return o.filter(c=>c.title.toLowerCase().includes(b)||c.content.toLowerCase().includes(b))},[o,v]),A=s.useMemo(()=>{const b={};return r.forEach(c=>{b[c.id]=[]}),M.forEach(c=>{b[c.columnId]&&b[c.columnId].push(c)}),b},[M,r]),D=s.useCallback(b=>{const c={id:he(),title:(b==null?void 0:b.trim())||`Column ${r.length+1}`};return l(f=>[...f,c]),c},[r.length,l]),O=s.useCallback((b,c)=>{l(f=>f.map(w=>w.id===b?{...w,title:c}:w))},[l]),E=s.useCallback(b=>{l(c=>c.filter(f=>f.id!==b)),n(c=>c.filter(f=>f.columnId!==b))},[l,n]),_=s.useCallback((b,c={})=>{const f={id:he(),columnId:b,title:c.title||`Task ${o.length+1}`,content:c.content||"",color:c.color||Mt(),priority:c.priority||V.MEDIUM,createdAt:new Date().toISOString()};return n(w=>[...w,f]),f},[o.length,n]),L=s.useCallback((b,c)=>{n(f=>f.map(w=>w.id===b?{...w,...c,updatedAt:new Date().toISOString()}:w))},[n]),R=s.useCallback(b=>{n(c=>c.filter(f=>f.id!==b))},[n]),K=s.useCallback((b,c)=>{n(f=>f.map(w=>w.id===b?{...w,columnId:c}:w))},[n]),Y=s.useCallback(b=>{var w;Ie(10);const{active:c}=b,f=(w=c.data.current)==null?void 0:w.type;f==="Column"?h(c.data.current.column):f==="Task"&&g(c.data.current.task)},[]),y=s.useCallback(b=>{var q,J,d;Ie([10,30,10]),h(null),g(null),m.current&&(Ee(),m.current=!1);const{active:c,over:f}=b;if(!f||c.id===f.id)return;const w=((q=c.data.current)==null?void 0:q.type)==="Task",j=((J=f.data.current)==null?void 0:J.type)==="Task",H=((d=c.data.current)==null?void 0:d.type)==="Column";if(w&&String(f.id).startsWith("dock-column-")){const S=String(f.id).replace("dock-column-",""),W=c.id;n(z=>{const P=z.findIndex(se=>se.id===W);if(P===-1)return z;const ee=[...z];return ee[P]={...ee[P],columnId:S},S==="done"&&Ee(),ee});return}w&&j&&n(S=>{const W=S.findIndex(P=>P.id===c.id),z=S.findIndex(P=>P.id===f.id);return W!==-1&&z!==-1&&S[W].columnId===S[z].columnId?de(S,W,z):S}),H&&l(S=>{const W=S.findIndex(P=>P.id===c.id),z=S.findIndex(P=>P.id===f.id);return de(S,W,z)})},[n,l]),I=s.useCallback(b=>{var S,W,z,P,ee,se,we;const{active:c,over:f}=b;if(!f||c.id===f.id)return;const w=((S=c.data.current)==null?void 0:S.type)==="Task",j=((W=f.data.current)==null?void 0:W.type)==="Task",H=((z=f.data.current)==null?void 0:z.type)==="Column";if(!w)return;const q=(P=c.data.current)==null?void 0:P.task,J=(q==null?void 0:q.columnId)==="done",d=Z=>{const $=String(Z);return $.startsWith("column-drop-")?$.replace("column-drop-",""):$};if(!String(f.id).startsWith("dock-column-")){if(w&&j){const Z=(ee=f.data.current)==null?void 0:ee.task,$=Z==null?void 0:Z.columnId;!J&&$==="done"&&(m.current=!0),n(F=>{const Q=F.findIndex(X=>X.id===c.id),te=F.findIndex(X=>X.id===f.id);if(Q===-1||te===-1)return F;if(F[Q].columnId!==F[te].columnId){const X=[...F];return X[Q]={...X[Q],columnId:X[te].columnId},de(X,Q,te-1)}return F})}if(w&&H){const Z=d(((we=(se=f.data.current)==null?void 0:se.column)==null?void 0:we.id)||f.id);!J&&Z==="done"&&(m.current=!0),n($=>{const F=$.findIndex(te=>te.id===c.id);if(F===-1||$[F].columnId===Z)return $;const Q=[...$];return Q[F]={...Q[F],columnId:Z},Q})}}},[n]),k=s.useMemo(()=>{const b=o.length,c=o.filter(H=>H.columnId==="done").length,f=o.filter(H=>H.columnId==="doing").length,w=o.filter(H=>H.columnId==="todo").length,j=b>0?Math.round(c/b*100):0;return{total:b,completed:c,inProgress:f,todo:w,percentage:j}},[o]);return{columns:r,tasks:o,filteredTasks:M,tasksByColumn:A,columnIds:T,activeColumn:u,activeTask:p,searchQuery:v,stats:k,createColumn:D,updateColumn:O,deleteColumn:E,createTask:_,updateTask:L,deleteTask:R,moveTask:K,setSearchQuery:C,handleDragStart:Y,handleDragEnd:y,handleDragOver:I}}function Yt(t,a=!0){const r=s.useCallback(l=>{if(!a)return;const o=l.target;if((o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.isContentEditable)&&l.key!=="Escape")return;const n=l.key.toLowerCase(),u=t[n];u&&(l.preventDefault(),u(l))},[t,a]);s.useEffect(()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)),[r])}function $e({onNewTask:t,onSearch:a,onToggleSidebar:r,onToggleTheme:l,onEscape:o}){const n={};t&&(n[ae.NEW_TASK]=t),a&&(n[ae.SEARCH]=a),r&&(n[ae.TOGGLE_SIDEBAR]=r),l&&(n[ae.TOGGLE_THEME]=l),o&&(n[ae.ESCAPE.toLowerCase()]=o),Yt(n)}function qt({projectId:t,onToggleSidebar:a}){const r=s.useRef(null),{themeConfig:l,isDark:o,theme:n}=B(),{columns:u,tasksByColumn:h,activeColumn:p,activeTask:g,columnIds:v,stats:C,searchQuery:m,createTask:T,updateTask:M,deleteTask:A,updateColumn:D,deleteColumn:O,setSearchQuery:E,handleDragStart:_,handleDragEnd:L,handleDragOver:R}=Vt(t),K=!!(p||g),Y=Ye(ye(tt,{activationConstraint:{distance:ue.MOUSE_ACTIVATION_DISTANCE}}),ye(et,{activationConstraint:{delay:ue.TOUCH_DELAY,tolerance:ue.TOUCH_TOLERANCE}})),y=s.useMemo(()=>({droppable:{strategy:qe.Always}}),[]),I=s.useCallback(()=>{var w;(w=r.current)==null||w.focus()},[]),k=s.useCallback(()=>{u.length>0&&T(u[0].id)},[u,T]);$e({onSearch:I,onNewTask:k,onToggleSidebar:a});const[b,c]=s.useState(!1);s.useEffect(()=>{const w=()=>c(window.innerWidth<1024);return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const f=b?Ae:Qe;return e.jsxs(Je,{sensors:Y,collisionDetection:Ze,measuring:y,autoScroll:{enabled:!0,layoutShiftCompensation:!1,acceleration:10,interval:10},onDragStart:_,onDragEnd:L,onDragOver:R,children:[e.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden",children:[e.jsx("header",{className:i("flex-none z-40","backdrop-blur-xl border-b transition-colors",o?"bg-[#0F0F12]/90 border-white/5":"bg-white/90 border-slate-200"),children:e.jsxs(x.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 px-4 lg:px-8 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[e.jsx(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:i("p-2 rounded-lg transition-colors lg:hidden touch-target shrink-0",l.ghostButton),onClick:a,"aria-label":"Toggle sidebar",children:e.jsx(bt,{size:24})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(Ke,{isInline:!0})}),e.jsx("div",{className:"flex-1 lg:flex-none",children:e.jsx(Ut,{stats:C})})]}),e.jsxs("div",{className:"relative w-full lg:w-[300px] shrink-0",children:[e.jsx(mt,{size:18,className:i("absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",o?"text-gray-500":"text-slate-400")}),e.jsx("input",{ref:r,type:"text",className:i("w-full pl-10 pr-4 py-2.5 rounded-lg outline-none transition-all duration-300","text-[16px]",l.inputBg,o?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":n==="gradient"?"focus:border-white/50 focus:shadow-[0_0_15px_rgba(255,255,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200"),placeholder:"Search tasks...",value:m,onChange:w=>E(w.target.value),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),e.jsx("div",{className:i("absolute right-3 top-1/2 -translate-y-1/2 hidden lg:flex items-center gap-1 text-xs",o?"text-gray-600":"text-slate-400"),children:e.jsx("kbd",{className:i("px-1.5 py-0.5 rounded border text-[10px] font-mono",o?"border-white/10 bg-white/5":"border-slate-200 bg-slate-100"),children:"/"})})]})]})}),e.jsx("main",{id:"kanban-scroll-container",className:i("flex-1 w-full relative overscroll-y-contain",K?"overflow-hidden touch-none":"overflow-y-auto overflow-x-hidden"),style:{WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"flex flex-col min-h-full px-4 lg:px-8 py-6 pb-32 lg:pb-6",children:e.jsx("div",{className:i("flex gap-4 lg:gap-6","flex-col","lg:flex-row lg:items-start"),children:e.jsx(Pe,{items:v,strategy:f,children:e.jsx(U,{mode:"popLayout",children:u.map((w,j)=>e.jsx(x.div,{variants:St,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"w-full lg:w-[350px] shrink-0",children:e.jsx(Ce,{column:w,tasks:h[w.id]||[],activeTask:g,addTask:T,updateTask:M,deleteTask:A,updateColumn:D,deleteColumn:O,activeColumn:p})},w.id))})})})})}),e.jsx(Ft,{columns:u,isDragging:K}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:i("hidden lg:flex items-center gap-4 px-8 py-3 text-xs fixed bottom-4 left-4",o?"text-gray-600":"text-slate-400"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(gt,{size:14}),e.jsx("span",{children:"Shortcuts:"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"N"})," New Task"]}),e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"/"})," Search"]}),e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"B"})," Sidebar"]})]})]})]}),e.jsxs(Xe,{dropAnimation:null,style:{zIndex:1e4},children:[p&&e.jsx(Ce,{column:p,tasks:h[p.id]||[]}),g&&e.jsx(Ue,{task:g,deleteTask:A,updateTask:M,isOverlay:!0})]})]})}function Jt({projects:t,activeProjectId:a,onSelectProject:r,onCreateProject:l,onDeleteProject:o,onRenameProject:n,isOpen:u,onClose:h}){const{themeConfig:p,isDark:g}=B(),[v,C]=s.useState(!1),[m,T]=s.useState(""),[M,A]=s.useState(null),[D,O]=s.useState(""),[E,_]=s.useState(null),L=()=>{if(!m.trim()){C(!1);return}l(m),T(""),C(!1)},R=y=>{D.trim()&&n(y,D),A(null),O("")},K=s.useCallback(()=>{const y=Kt(t),I=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),k=URL.createObjectURL(I),b=document.createElement("a");b.href=k,b.download=`kanban-backup-${new Date().toISOString().split("T")[0]}.json`,b.click(),URL.revokeObjectURL(k)},[t]),Y=s.useCallback(y=>{const I=y.target.files[0];if(!I)return;const k=new FileReader;k.onload=b=>{try{const c=JSON.parse(b.target.result);window.confirm("This will overwrite all current data. Continue?")&&($t(c)?window.location.reload():alert("Failed to import backup. Please check the file format."))}catch(c){alert("Failed to import backup: "+c.message)}},k.readAsText(I),y.target.value=""},[]);return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:u&&e.jsx(x.div,{...Fe,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:h})}),e.jsxs(x.div,{initial:!1,animate:{x:u?0:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:i("fixed inset-y-0 left-0 z-50 flex flex-col","w-[280px] h-[100dvh]","lg:relative lg:h-full lg:translate-x-0 lg:!transform-none lg:z-0","shadow-2xl lg:shadow-none",p.sidebarBg,p.borderColor,"border-r"),children:[e.jsxs("div",{className:i("p-5 flex items-center justify-between",p.borderColor,"border-b"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x.div,{whileHover:{rotate:5,scale:1.05},className:i("p-2.5 rounded-xl",g?"bg-gradient-to-br from-neon-red/20 to-neon-purple/20":"bg-gradient-to-br from-red-100 to-purple-100"),children:e.jsx(dt,{className:g?"text-neon-red":"text-red-500",size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:i("font-bold text-lg tracking-wide",p.textPrimary),children:"Projects"}),e.jsxs("p",{className:i("text-xs",p.textSecondary),children:[t.length," project",t.length!==1?"s":""]})]})]}),e.jsx("button",{onClick:h,className:i("lg:hidden p-2 rounded-lg transition-colors",g?"hover:bg-white/10 text-gray-400":"hover:bg-slate-100 text-slate-500"),children:e.jsx(He,{size:20})})]}),e.jsxs("div",{className:"flex-1 ios-scroll-y p-3 flex flex-col gap-1.5",children:[e.jsx(U,{mode:"popLayout",children:t.map((y,I)=>e.jsxs(x.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:I*.03},onClick:()=>r(y.id),className:i("p-3 rounded-xl cursor-pointer flex justify-between items-center group transition-all duration-200",y.id===a?g?"bg-gradient-to-r from-neon-purple/15 to-transparent text-neon-purple border border-neon-purple/20":"bg-gradient-to-r from-purple-100 to-transparent text-purple-700 border border-purple-200":i(p.textSecondary,g?"hover:bg-white/5 hover:text-gray-100":"hover:bg-slate-100 hover:text-slate-800","border border-transparent")),children:[M===y.id?e.jsx("input",{autoFocus:!0,className:i("bg-transparent border-b outline-none w-full font-medium",g?"border-neon-purple text-white":"border-purple-500 text-slate-800"),value:D,onChange:k=>O(k.target.value),onClick:k=>k.stopPropagation(),onBlur:()=>R(y.id),onKeyDown:k=>{k.key==="Enter"&&R(y.id),k.key==="Escape"&&A(null)}}):e.jsx("span",{className:"truncate font-medium flex-1",onDoubleClick:k=>{k.stopPropagation(),A(y.id),O(y.name)},children:y.name}),t.length>1&&M!==y.id&&e.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:k=>{k.stopPropagation(),A(y.id),O(y.name)},className:i("p-1.5 rounded-lg transition-colors",g?"hover:bg-white/10 text-gray-400 hover:text-white":"hover:bg-slate-200 text-slate-400 hover:text-slate-700"),children:e.jsx(Le,{size:14})}),e.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:k=>{k.stopPropagation(),_(y)},className:i("p-1.5 rounded-lg transition-colors",g?"hover:bg-neon-red/10 text-gray-400 hover:text-neon-red":"hover:bg-red-100 text-slate-400 hover:text-red-500"),children:e.jsx(me,{size:14})})]})]},y.id))}),e.jsx(U,{mode:"wait",children:v?e.jsx(x.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-2",children:e.jsx("input",{autoFocus:!0,className:i("w-full rounded-lg p-3 border outline-none transition-shadow","text-[16px]",g?"bg-white/5 text-white border-neon-purple/30 focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"bg-white text-slate-800 border-purple-200 focus:shadow-md focus:border-purple-500"),placeholder:"Project name...",value:m,onChange:y=>T(y.target.value),onBlur:()=>{m.trim()||C(!1)},onKeyDown:y=>{y.key==="Enter"&&L(),y.key==="Escape"&&C(!1)}})},"input"):e.jsxs(x.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>C(!0),className:i("flex items-center gap-3 p-3 rounded-xl transition-all duration-200 mt-2","border border-dashed",g?"border-white/10 text-gray-500 hover:text-neon-purple hover:border-neon-purple/30 hover:bg-neon-purple/5":"border-slate-200 text-slate-400 hover:text-purple-600 hover:border-purple-300 hover:bg-purple-50"),children:[e.jsx(Re,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:"New Project"})]},"button")})]}),e.jsxs("div",{className:i("p-4 flex gap-2 safe-area-bottom",p.borderColor,"border-t"),children:[e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:K,className:i("flex-1 flex items-center justify-center gap-2 text-xs py-2.5 rounded-lg transition-colors",p.buttonBg,p.buttonHover,p.textSecondary,p.borderColor,"border"),children:[e.jsx(lt,{size:14}),"Export"]}),e.jsxs("label",{className:i("flex-1 flex items-center justify-center gap-2 text-xs py-2.5 rounded-lg transition-colors cursor-pointer",p.buttonBg,p.buttonHover,p.textSecondary,p.borderColor,"border"),children:[e.jsx(vt,{size:14}),"Import",e.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:Y})]})]})]}),e.jsx(Tt,{isOpen:!!E,onClose:()=>_(null),onConfirm:()=>o(E==null?void 0:E.id),title:"Delete Project?",message:`Are you sure you want to delete "${E==null?void 0:E.name}"? This action cannot be undone.`,confirmText:"Delete Project",variant:"danger"})]})}function Zt(){const{themeConfig:t,theme:a}=B(),[r,l]=s.useState(!1),{projects:o,activeProjectId:n,createProject:u,deleteProject:h,renameProject:p,selectProject:g}=Wt();$e({onToggleSidebar:()=>l(m=>!m),onEscape:()=>l(!1)});const v=m=>{g(m),l(!1)},C=()=>{if(a!=="gradient")return{};const m=new Date().getHours();let T;return m>=5&&m<10?T="linear-gradient(to bottom right, #a5b4fc, #c4b5fd, #f9a8d4)":m>=10&&m<16?T="linear-gradient(to bottom right, #67e8f9, #93c5fd, #a5b4fc)":m>=16&&m<19?T="linear-gradient(to bottom right, #fb923c, #fb7185, #a855f7)":T="linear-gradient(to bottom right, #111827, #581c87, #5b21b6)",{background:T,backgroundSize:"400% 400%",animation:"gradient-shift 15s ease infinite"}};return e.jsxs("div",{className:i("flex w-full overflow-hidden transition-colors duration-500","h-[100dvh]","safe-area-padding",a!=="gradient"&&t.background,t.textPrimary),style:{...C(),minHeight:"-webkit-fill-available"},children:[e.jsx(Jt,{projects:o,activeProjectId:n,onSelectProject:v,onCreateProject:u,onDeleteProject:h,onRenameProject:p,isOpen:r,onClose:()=>l(!1)}),e.jsx("main",{className:"flex-1 w-full h-full overflow-hidden relative z-0",children:e.jsx(U,{mode:"wait",children:e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full h-full",children:e.jsx(qt,{projectId:n,onToggleSidebar:()=>l(!r)})},n)})}),e.jsx(Ke,{})]})}function Qt(){return e.jsx(Ct,{children:e.jsx(Zt,{})})}class Xt extends Me.Component{constructor(r){super(r);le(this,"handleReload",()=>{window.location.reload()});le(this,"handleReset",()=>{window.confirm("This will reset all your data. Are you sure?")&&(localStorage.clear(),window.location.reload())});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,l){this.setState({error:r,errorInfo:l}),console.error("[ErrorBoundary] Uncaught error:",r,l)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0F0F12] text-white p-6",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 rounded-full bg-red-500/10 ring-2 ring-red-500/30",children:e.jsx(st,{size:48,className:"text-red-400"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-400 text-center mb-6",children:"The application encountered an unexpected error."}),e.jsxs("details",{className:"mb-6 bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-300 hover:text-white",children:"Show error details"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"p-3 bg-black/50 rounded-lg overflow-auto max-h-32",children:e.jsx("code",{className:"text-xs font-mono text-red-400 block whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})}),this.state.errorInfo&&e.jsx("pre",{className:"text-xs text-gray-500 overflow-auto max-h-48 p-2",children:this.state.errorInfo.componentStack})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white rounded-xl font-medium transition-all shadow-lg",children:[e.jsx(xt,{size:18}),"Reload App"]}),e.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl font-medium transition-all border border-white/10",children:[e.jsx(ut,{size:18}),"Reset Data"]})]}),e.jsx("p",{className:"text-center text-xs text-gray-600 mt-6",children:"If this problem persists, try clearing your browser cache."})]})}):this.props.children}}ge.createRoot(document.getElementById("root")).render(e.jsx(Me.StrictMode,{children:e.jsx(Xt,{children:e.jsx(Qt,{})})}));
