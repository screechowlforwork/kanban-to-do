var We=Object.defineProperty;var Ve=(t,a,r)=>a in t?We(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;var de=(t,a,r)=>Ve(t,typeof a!="symbol"?a+"":a,r);import{j as e,m as b,A as U}from"./vendor-motion-CY6FN1O4.js";import{a as ie,r as i,R as De}from"./vendor-react-wGySg1uH.js";import{u as Pe,C as le,a as Ae,S as Oe,v as _e,b as ce,c as Ye,d as ve,M as qe,D as Je,p as Ze,h as Qe,e as Xe,T as et,f as tt}from"./vendor-dnd-DWqTrw2_.js";import{t as rt,c as ot,v as ge,a as ue}from"./vendor-utils-BtutqN9Q.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var pe={},ke=ie;pe.createRoot=ke.createRoot,pe.hydrateRoot=ke.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var at={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),S=(t,a)=>{const r=i.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:h,className:c="",children:f,...x},v)=>i.createElement("svg",{ref:v,...at,width:n,height:n,stroke:s,strokeWidth:h?Number(o)*24/Number(n):o,className:["lucide",`lucide-${nt(t)}`,c].join(" "),...x},[...a.map(([k,y])=>i.createElement(k,y)),...Array.isArray(f)?f:[f]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=S("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=S("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=S("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=S("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=S("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=S("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=S("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=S("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=S("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=S("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=S("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=S("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=S("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=S("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=S("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=S("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=S("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=S("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=S("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=S("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=S("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function l(...t){return rt(ot(t))}const ne={dark:"dark",light:"light",gradient:"gradient"};function be(){const t=new Date().getHours();return t>=5&&t<10?"morning":t>=10&&t<16?"day":t>=16&&t<19?"sunset":"night"}function kt(){switch(be()){case"morning":return{background:"bg-gradient-to-br from-indigo-300 via-purple-300 to-pink-300",metaThemeColor:"#C7D2FE",cardBg:"bg-white/40 backdrop-blur-xl",textPrimary:"text-slate-800",textSecondary:"text-slate-600",textMuted:"text-slate-500",sidebarBg:"bg-white/30 backdrop-blur-xl border-r border-white/30",inputBg:"bg-white/40 backdrop-blur-md border border-slate-300/50 text-slate-800 placeholder:text-slate-500",buttonBg:"bg-white/30",buttonHover:"hover:bg-white/50",borderColor:"border-slate-300/30",cardBorder:"border-white/30",cardHover:"hover:border-slate-400/50 hover:shadow-lg",isDark:!1};case"day":return{background:"bg-gradient-to-br from-cyan-300 via-blue-300 to-indigo-400",metaThemeColor:"#A5F3FC",cardBg:"bg-white/40 backdrop-blur-xl",textPrimary:"text-slate-800",textSecondary:"text-slate-600",textMuted:"text-slate-500",sidebarBg:"bg-white/30 backdrop-blur-xl border-r border-white/30",inputBg:"bg-white/40 backdrop-blur-md border border-slate-300/50 text-slate-800 placeholder:text-slate-500",buttonBg:"bg-white/30",buttonHover:"hover:bg-white/50",borderColor:"border-slate-300/30",cardBorder:"border-white/30",cardHover:"hover:border-slate-400/50 hover:shadow-lg",isDark:!1};case"sunset":return{background:"bg-gradient-to-br from-orange-400 via-rose-400 to-purple-500",metaThemeColor:"#FDBA74",cardBg:"bg-white/30 backdrop-blur-xl",textPrimary:"text-white",textSecondary:"text-white/80",textMuted:"text-white/60",sidebarBg:"bg-black/20 backdrop-blur-xl border-r border-white/20",inputBg:"bg-white/20 backdrop-blur-md border border-white/30 text-white placeholder:text-white/60",buttonBg:"bg-white/20",buttonHover:"hover:bg-white/30",borderColor:"border-white/20",cardBorder:"border-white/20",cardHover:"hover:border-white/40 hover:shadow-lg",isDark:!0};case"night":default:return{background:"bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900",metaThemeColor:"#111827",cardBg:"bg-black/30 backdrop-blur-xl",textPrimary:"text-gray-100",textSecondary:"text-gray-400",textMuted:"text-gray-500",sidebarBg:"bg-black/30 backdrop-blur-xl border-r border-white/10",inputBg:"bg-white/10 backdrop-blur-md border border-white/20 text-white placeholder:text-white/50",buttonBg:"bg-white/10",buttonHover:"hover:bg-white/20",borderColor:"border-white/10",cardBorder:"border-white/10",cardHover:"hover:border-white/30 hover:shadow-lg",isDark:!0}}}const jt={dark:{background:"bg-deepblack",metaThemeColor:"#0F0F12",cardBg:"bg-white/5 backdrop-blur-md",cardBorder:"border-white/5",cardHover:"hover:border-white/20",textPrimary:"text-gray-100",textSecondary:"text-gray-400",textMuted:"text-gray-600",sidebarBg:"bg-[#0F0F12]",inputBg:"bg-white/5 border border-white/5 text-gray-200 placeholder:text-gray-500",buttonBg:"bg-white/5",buttonHover:"hover:bg-white/10",borderColor:"border-white/5",isDark:!0},light:{background:"bg-slate-50",metaThemeColor:"#FDFCF8",cardBg:"bg-white",cardBorder:"border-slate-200",cardHover:"hover:border-slate-300 hover:shadow-md",textPrimary:"text-slate-800",textSecondary:"text-slate-500",textMuted:"text-slate-400",sidebarBg:"bg-[#FDFCF8] border-r border-slate-200",inputBg:"bg-white border border-slate-200 text-slate-700 placeholder:text-slate-400",buttonBg:"bg-slate-100",buttonHover:"hover:bg-slate-200",borderColor:"border-slate-200",isDark:!1}},ze=i.createContext(null);function Ct({children:t}){const[a,r]=i.useState(()=>{const c=localStorage.getItem("kanban-theme");return c&&Object.keys(ne).includes(c)?c:"dark"}),[s,n]=i.useState(be());i.useEffect(()=>{localStorage.setItem("kanban-theme",a)},[a]),i.useEffect(()=>{if(a!=="gradient")return;const c=setInterval(()=>{n(be())},6e4);return()=>clearInterval(c)},[a]);const o=i.useMemo(()=>a==="gradient"?kt():jt[a],[a,s]);i.useEffect(()=>{const c=document.querySelector('meta[name="theme-color"]');c&&o.metaThemeColor&&c.setAttribute("content",o.metaThemeColor)},[o.metaThemeColor]);const h={theme:a,setTheme:r,themeConfig:o,themes:ne,isDark:o.isDark};return e.jsx(ze.Provider,{value:h,children:t})}function H(){const t=i.useContext(ze);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const ye={standard:[.32,.72,0,1]},Fe={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:ye.standard}},Ge={initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.92},transition:{duration:.25,ease:ye.standard}},Nt={animate:{transition:{staggerChildren:.04,delayChildren:.08}}},St={initial:{opacity:0,y:16},animate:{opacity:1,y:0,transition:{duration:.3,ease:ye.standard}}};function Tt({isOpen:t,onClose:a,title:r,children:s,size:n="md",showCloseButton:o=!0,closeOnOverlayClick:h=!0}){const{isDark:c}=H(),f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-[95vw] max-h-[95vh]"};return t?ie.createPortal(e.jsx(U,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e.jsx(b.div,{...Fe,className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:h?a:void 0,"aria-hidden":"true"}),e.jsxs(b.div,{...Ge,role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,className:l("relative w-full rounded-2xl p-6 shadow-2xl border",f[n],c?"bg-[#1A1A1E] border-white/10 text-gray-100":"bg-white border-slate-200 text-slate-800"),children:[(r||o)&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r&&e.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:r}),o&&e.jsx("button",{onClick:a,className:l("p-2 rounded-lg transition-colors ml-auto",c?"hover:bg-white/10 text-gray-400 hover:text-white":"hover:bg-slate-100 text-slate-400 hover:text-slate-600"),"aria-label":"Close",children:e.jsx(Be,{size:20})})]}),s]})]})}),document.body):null}function Et({isOpen:t,onClose:a,onConfirm:r,title:s,message:n,confirmText:o="Confirm",cancelText:h="Cancel",variant:c="danger"}){const{isDark:f}=H(),x={danger:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700",warning:"bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700",primary:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"};return e.jsxs(Tt,{isOpen:t,onClose:a,size:"sm",showCloseButton:!1,children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:s}),e.jsx("p",{className:l("text-sm mb-6",f?"text-gray-400":"text-slate-500"),children:n}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:l("px-4 py-2.5 rounded-lg font-medium text-sm transition-colors",f?"hover:bg-white/10 text-gray-300":"hover:bg-slate-100 text-slate-600"),children:h}),e.jsx(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r(),a()},className:l("px-4 py-2.5 rounded-lg font-medium text-sm text-white shadow-lg transition-all",x[c]),children:o})]})]})}i.forwardRef(function({className:a,type:r="text",error:s,...n},o){const{themeConfig:h,isDark:c}=H();return e.jsx("input",{ref:o,type:r,className:l("w-full p-3 rounded-lg outline-none transition-all duration-300",h.inputBg,c?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200",s&&"border-red-500 focus:border-red-500",a),...n})});i.forwardRef(function({className:a,error:r,...s},n){const{themeConfig:o,isDark:h}=H();return e.jsx("textarea",{ref:n,className:l("w-full p-3 rounded-lg outline-none transition-all duration-300 resize-none",o.inputBg,h?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200",r&&"border-red-500 focus:border-red-500",a),...s})});const It=i.forwardRef(function({className:a,children:r,...s},n){const{isDark:o}=H();return e.jsx("select",{ref:n,className:l("px-3 py-2 rounded-lg border outline-none cursor-pointer appearance-none pr-8","bg-no-repeat bg-right",o?"bg-white/10 text-gray-100 border-white/20 focus:border-neon-purple":"bg-white text-slate-700 border-slate-200 focus:border-purple-500",a),style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundSize:"1.25em 1.25em"},...s,children:r})}),q={HIGH:"High",MEDIUM:"Medium",LOW:"Low"},Mt=[{value:q.HIGH,label:"High"},{value:q.MEDIUM,label:"Medium"},{value:q.LOW,label:"Low"}],oe={yellow:"bg-yellow-200",green:"bg-green-200",blue:"bg-blue-200",pink:"bg-pink-200",orange:"bg-orange-200",purple:"bg-purple-200",white:"bg-white",red:"bg-red-200"},Dt=()=>{const t=Object.values(oe);return t[Math.floor(Math.random()*t.length)]},je={id:"default",name:"My Project"},Ce=[{id:"todo",title:"Todo"},{id:"doing",title:"In Progress"},{id:"done",title:"Done"}],Pt=[{id:"1",columnId:"todo",title:"Admin APIs",content:"List admin APIs for dashboard",color:oe.yellow,priority:q.HIGH},{id:"2",columnId:"todo",title:"User Registration",content:"Develop user registration functionality with OTP delivered on SMS after email confirmation",color:oe.green,priority:q.HIGH},{id:"3",columnId:"doing",title:"Security Testing",content:"Conduct security testing",color:oe.blue,priority:q.HIGH},{id:"4",columnId:"doing",title:"Competitor Analysis",content:"Analyze competitors",color:oe.pink,priority:q.MEDIUM},{id:"5",columnId:"done",title:"UI Kit Docs",content:"Create UI kit documentation",color:oe.orange,priority:q.LOW}],ae={NEW_TASK:"n",SEARCH:"/",TOGGLE_SIDEBAR:"b",TOGGLE_THEME:"t",ESCAPE:"Escape"},he={MOUSE_ACTIVATION_DISTANCE:8,TOUCH_DELAY:250,TOUCH_TOLERANCE:5},At={CONFETTI_DELAY:150},Ot={High:{line:"bg-neon-red shadow-[0_0_10px_#FF3366]",badge:"bg-neon-red/10 text-neon-red border-neon-red/20",glow:"hover:shadow-[0_0_20px_rgba(255,51,102,0.3)] hover:border-neon-red/30"},Medium:{line:"bg-neon-purple shadow-[0_0_10px_#B833FF]",badge:"bg-neon-purple/10 text-neon-purple border-neon-purple/20",glow:"hover:shadow-[0_0_20px_rgba(184,51,255,0.3)] hover:border-neon-purple/30"},Low:{line:"bg-neon-blue shadow-[0_0_10px_#33E1FF]",badge:"bg-neon-blue/10 text-neon-blue border-neon-blue/20",glow:"hover:shadow-[0_0_20px_rgba(51,225,255,0.3)] hover:border-neon-blue/30"},default:{line:"bg-gray-500",badge:"bg-gray-500/10 text-gray-400 border-gray-500/20",glow:"hover:shadow-white/20 hover:border-white/30"}},_t={High:{line:"bg-red-500",badge:"bg-red-100 text-red-600 border-red-200",glow:"hover:shadow-lg hover:shadow-red-100 hover:border-red-300"},Medium:{line:"bg-purple-500",badge:"bg-purple-100 text-purple-600 border-purple-200",glow:"hover:shadow-lg hover:shadow-purple-100 hover:border-purple-300"},Low:{line:"bg-blue-500",badge:"bg-blue-100 text-blue-600 border-blue-200",glow:"hover:shadow-lg hover:shadow-blue-100 hover:border-blue-300"},default:{line:"bg-gray-400",badge:"bg-gray-100 text-gray-600 border-gray-200",glow:"hover:shadow-md hover:border-gray-300"}},Lt=150;function Rt({task:t,deleteTask:a,updateTask:r,isOverlay:s}){const{themeConfig:n,isDark:o,theme:h}=H(),[c,f]=i.useState(!1),[x,v]=i.useState(!1),[k,y]=i.useState(!1),[E,L]=i.useState(!1),[R,D]=i.useState(!1),M=i.useRef(t.columnId),T=i.useRef(null),I=i.useRef(null),K=i.useRef(!1);i.useEffect(()=>{K.current="ontouchstart"in window||navigator.maxTouchPoints>0},[]),i.useEffect(()=>{if(M.current!=="done"&&t.columnId==="done"){L(!0),navigator.vibrate&&navigator.vibrate(50);const d=setTimeout(()=>L(!1),600);return()=>clearTimeout(d)}M.current=t.columnId},[t.columnId]),i.useEffect(()=>{c&&T.current&&setTimeout(()=>{var d,C;(d=T.current)==null||d.focus(),(C=T.current)==null||C.select()},100)},[c]),i.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]);const{setNodeRef:B,attributes:V,listeners:A,transform:w,transition:P,isDragging:j}=Pe({id:t.id,data:{type:"Task",task:t},disabled:c}),g={transition:P,transform:le.Translate.toString(w),touchAction:"manipulation",WebkitTransform:le.Translate.toString(w)||"translateZ(0)"},u=i.useCallback(d=>{d==null||d.stopPropagation(),d==null||d.preventDefault(),f(C=>!C),v(!1),y(!1),D(!1)},[]),p=i.useCallback(d=>{d==null||d.stopPropagation(),!c&&!j&&v(C=>!C)},[c,j]),m=i.useCallback(()=>{K.current&&!c&&(I.current=setTimeout(()=>{D(!0)},Lt))},[c]),J=i.useCallback(()=>{I.current&&clearTimeout(I.current)},[]),O=i.useCallback(d=>{d==null||d.stopPropagation(),d==null||d.preventDefault(),a(t.id)},[a,t.id]),N=o?Ot:_t,$=N[t.priority]||N.default;return j?e.jsx("div",{ref:B,style:g,className:l("w-full min-h-[100px] rounded-xl border-2 border-dashed",o?"border-neon-purple/30 bg-neon-purple/5":"border-purple-300 bg-purple-50"),"aria-hidden":"true"}):c?e.jsxs(b.div,{ref:B,style:g,...V,...Ge,onClick:d=>d.stopPropagation(),onTouchEnd:d=>d.stopPropagation(),className:l("relative flex flex-col p-4 w-full rounded-xl z-50","border-2 shadow-2xl",h==="gradient"?"bg-black/60 backdrop-blur-xl border-white/30":o?"bg-[#1A1A1E] border-neon-purple/50":"bg-white border-purple-400"),role:"form","aria-label":"Edit task",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-2",children:[e.jsx(It,{value:t.priority||q.MEDIUM,onChange:d=>r(t.id,{priority:d.target.value}),onMouseDown:d=>d.stopPropagation(),onTouchStart:d=>d.stopPropagation(),className:"text-sm touch-target",children:Mt.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))}),e.jsx(b.button,{whileTap:{scale:.95},onClick:u,className:l("px-4 py-2.5 rounded-lg text-sm font-medium transition-colors touch-target",o?"bg-neon-green/10 text-neon-green active:bg-neon-green/20":"bg-green-100 text-green-600 active:bg-green-200"),children:"Done"})]}),e.jsx("input",{ref:T,className:l("bg-transparent font-semibold text-lg mb-3 outline-none w-full","text-[16px]",n.textPrimary,"placeholder:opacity-50"),value:t.title,placeholder:"Task title",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),f(!1)),d.key==="Escape"&&f(!1)},onChange:d=>r(t.id,{title:d.target.value}),autoComplete:"off",autoCorrect:"on",spellCheck:"true"}),e.jsx("textarea",{className:l("bg-transparent text-sm resize-none outline-none min-h-[100px] w-full","text-[16px]",n.textSecondary,"placeholder:opacity-50"),rows:4,value:t.content,placeholder:"Add details...",onKeyDown:d=>{d.key==="Escape"&&f(!1)},onChange:d=>r(t.id,{content:d.target.value}),autoComplete:"off",autoCorrect:"on",spellCheck:"true"})]}):e.jsxs(b.div,{ref:B,style:g,layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.15}},onMouseEnter:()=>!K.current&&D(!0),onMouseLeave:()=>{D(!1),y(!1)},onTouchStart:m,onTouchEnd:J,className:l("group relative flex w-full rounded-xl overflow-hidden",x?"min-h-[200px]":"min-h-[100px]","transition-all duration-200 ease-out",s&&"scale-105 shadow-2xl rotate-2 z-50",h==="gradient"?"bg-white/10 backdrop-blur-xl border border-white/20":o?"bg-[#1A1A1E] border border-white/10":"bg-white border border-slate-200 shadow-sm",$.glow,E&&(o?"ring-2 ring-neon-green bg-neon-green/10":"ring-2 ring-green-400 bg-green-50")),role:"article","aria-label":`Task: ${t.title}`,"data-draggable":"true",children:[e.jsx(b.div,{layoutId:`priority-${t.id}`,className:l("absolute left-0 top-3 bottom-3 w-[3px] rounded-r-full",$.line)}),e.jsx("div",{...V,...A,className:l("flex items-center justify-center px-3 min-w-[44px]","cursor-grab active:cursor-grabbing","touch-none select-none",o?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"),style:{touchAction:"none"},"aria-label":"Drag to reorder",children:e.jsx(ct,{size:18})}),e.jsxs("div",{onClick:p,onTouchEnd:d=>{j||p(d)},className:"flex-1 flex flex-col p-3 pl-1 cursor-pointer min-w-0",style:{touchAction:"manipulation"},children:[e.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:l("font-medium leading-snug text-base","break-words line-clamp-2",n.textPrimary),children:t.title})}),t.priority&&e.jsx(b.span,{layoutId:`badge-${t.id}`,className:l("text-[10px] px-2 py-0.5 rounded-full font-semibold border uppercase tracking-wider shrink-0",$.badge),children:t.priority})]}),e.jsxs("div",{className:"flex items-start gap-2 min-h-[36px]",children:[e.jsx("p",{className:l("flex-1 text-sm leading-relaxed font-light","break-words whitespace-pre-wrap",x?"":"line-clamp-2",n.textSecondary),children:t.content||e.jsx("span",{className:"italic opacity-50",children:"No description"})}),e.jsx(b.div,{animate:{rotate:x?180:0},transition:{duration:.2},children:e.jsx(Re,{size:16,className:l("shrink-0 mt-1 transition-colors",o?"text-gray-500":"text-gray-400")})})]})]}),e.jsx(U,{children:(R||k)&&e.jsx(b.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:l("absolute right-2 top-2 z-10 flex gap-1"),children:k?e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:l("flex gap-2 p-2 rounded-lg backdrop-blur-sm border",o?"bg-black/60 border-red-500/30":"bg-white/90 border-red-200"),children:[e.jsx(b.button,{whileTap:{scale:.9},onClick:O,onTouchEnd:d=>{d.stopPropagation(),O(d)},className:"text-red-400 active:text-red-300 text-xs font-bold px-3 py-1.5 touch-target",children:"Delete"}),e.jsx(b.button,{whileTap:{scale:.9},onClick:d=>{d.stopPropagation(),y(!1)},onTouchEnd:d=>{d.stopPropagation(),y(!1)},className:l("text-xs px-3 py-1.5 touch-target",o?"text-gray-400 active:text-white":"text-slate-500 active:text-slate-700"),children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(b.button,{whileTap:{scale:.9},onClick:u,onTouchEnd:d=>{d.stopPropagation(),u(d)},className:l("p-2.5 rounded-lg transition-colors touch-target",o?"bg-white/10 active:bg-white/20 text-gray-300":"bg-slate-100 active:bg-slate-200 text-slate-500"),"aria-label":"Edit task",children:e.jsx(He,{size:16})}),e.jsx(b.button,{whileTap:{scale:.9},onClick:d=>{d.stopPropagation(),y(!0)},onTouchEnd:d=>{d.stopPropagation(),y(!0)},className:l("p-2.5 rounded-lg transition-colors touch-target",o?"bg-white/10 active:bg-red-500/20 text-gray-300 active:text-red-400":"bg-slate-100 active:bg-red-100 text-slate-500 active:text-red-500"),"aria-label":"Delete task",children:e.jsx(fe,{size:16})})]})})}),e.jsx(U,{children:E&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center rounded-xl bg-black/40 backdrop-blur-[1px]",children:e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:200},className:l("p-3 rounded-full",o?"bg-neon-green/20 shadow-[0_0_20px_rgba(51,255,153,0.5)]":"bg-green-100 shadow-lg"),children:e.jsx(Le,{size:32,className:o?"text-neon-green":"text-green-500"})})})})]})}const Ue=i.memo(Rt),Ht={todo:{borderColor:"border-gray-600",textColor:"text-gray-400",bgGlow:"bg-gray-500",shadowGlow:"shadow-[0_0_15px_rgba(75,85,99,0.3)]",dropBg:"bg-gray-500/10"},doing:{borderColor:"border-neon-blue",textColor:"text-neon-blue",bgGlow:"bg-neon-blue",shadowGlow:"shadow-[0_0_15px_rgba(51,225,255,0.3)]",dropBg:"bg-neon-blue/10"},done:{borderColor:"border-neon-green",textColor:"text-neon-green",bgGlow:"bg-neon-green",shadowGlow:"shadow-[0_0_15px_rgba(51,255,153,0.3)]",dropBg:"bg-neon-green/10"},default:{borderColor:"border-neon-purple",textColor:"text-neon-purple",bgGlow:"bg-neon-purple",shadowGlow:"shadow-[0_0_15px_rgba(184,51,255,0.3)]",dropBg:"bg-neon-purple/10"}},Bt={todo:{borderColor:"border-slate-400",textColor:"text-slate-600",bgGlow:"bg-slate-400",shadowGlow:"",dropBg:"bg-slate-100"},doing:{borderColor:"border-blue-500",textColor:"text-blue-600",bgGlow:"bg-blue-500",shadowGlow:"",dropBg:"bg-blue-50"},done:{borderColor:"border-green-500",textColor:"text-green-600",bgGlow:"bg-green-500",shadowGlow:"",dropBg:"bg-green-50"},default:{borderColor:"border-purple-500",textColor:"text-purple-600",bgGlow:"bg-purple-500",shadowGlow:"",dropBg:"bg-purple-50"}};function zt({column:t,deleteColumn:a,updateColumn:r,createTask:s,tasks:n,deleteTask:o,updateTask:h}){const{isDark:c,theme:f}=H(),[x,v]=i.useState(!1),[k,y]=i.useState(!1),[E,L]=i.useState(!1);i.useEffect(()=>{L(typeof window<"u"&&window.innerWidth<768)},[]);const R=i.useMemo(()=>n.map(m=>m.id),[n]),{setNodeRef:D,attributes:M,listeners:T,transform:I,transition:K,isDragging:B}=Pe({id:t.id,data:{type:"Column",column:t},disabled:x}),{setNodeRef:V,isOver:A}=Ae({id:`column-drop-${t.id}`,data:{type:"Column",column:t}}),w=m=>{D(m),V(m)},P={transition:K,transform:le.Transform.toString(I),touchAction:"manipulation",WebkitTransform:le.Transform.toString(I)||"translateZ(0)"},j=c?Ht:Bt,g=j[t.id]||j.default;i.useEffect(()=>{A&&navigator.vibrate&&navigator.vibrate(10)},[A]);const u=m=>{if(!x&&E){if(m.target.closest("button")||m.target.closest("input"))return;y(!k)}};if(B)return e.jsx("div",{ref:w,style:P,className:l("w-full md:min-w-[350px] md:w-[350px] rounded-xl flex flex-col opacity-60","h-[100px] md:h-full","border-2 border-dashed",c?"border-neon-purple/50 bg-neon-purple/5":"border-purple-300 bg-purple-50","mb-4 md:mb-0")});const p=k&&A;return e.jsxs(b.div,{ref:w,style:P,layout:!0,id:`column-${t.id}`,"data-column":t.id,className:l("scroll-mt-32","w-full mb-4 shrink-0 flex flex-col rounded-xl","md:mb-0 md:min-w-[350px] md:w-[350px] md:h-full md:max-h-full","transition-all duration-300",f==="gradient"?"bg-black/20 backdrop-blur-xl border border-white/10":c?"bg-[#0F0F12]":"bg-white/90 backdrop-blur-sm shadow-sm",!k&&A&&l("ring-2",c?"ring-neon-purple/70":"ring-purple-400",g.dropBg),p&&"scale-[1.02] shadow-lg ring-2 ring-offset-2 ring-primary/50"),children:[e.jsxs("div",{...M,...T,onClick:u,className:l("sticky top-0 z-10 h-[60px] shrink-0 cursor-grab rounded-t-xl p-4 flex items-center justify-between transition-colors duration-300","group select-none",f==="gradient"?"bg-transparent border-b border-white/10":c?"bg-[#0F0F12] border-b border-white/10":"bg-white border-b border-slate-200",p&&l("rounded-xl border-b-0",c?"bg-neon-purple/20 border-neon-purple/50":"bg-purple-100 border-purple-400")),style:{touchAction:"none"},children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"md:hidden text-gray-400",children:k?e.jsx(it,{size:18}):e.jsx(Re,{size:18})}),e.jsx(b.div,{initial:{scale:1.2},animate:{scale:1},className:l("flex justify-center items-center min-w-[28px] px-2 py-0.5 text-xs rounded-full font-bold",f==="gradient"?"bg-white/20":c?"bg-white/5":"bg-slate-100",g.textColor),children:n.length},n.length),x?e.jsx("input",{autoFocus:!0,className:l("bg-transparent outline-none font-semibold text-sm uppercase tracking-wide","text-[16px]",g.textColor),value:t.title,onChange:m=>r(t.id,m.target.value),onBlur:()=>v(!1),onKeyDown:m=>{(m.key==="Enter"||m.key==="Escape")&&v(!1)},onClick:m=>m.stopPropagation()}):e.jsx("h2",{className:l("font-semibold text-sm tracking-wide uppercase",g.textColor),children:t.title})]}),e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m=>{m.stopPropagation(),a(t.id)},className:l("opacity-0 group-hover:opacity-100 transition-opacity p-2.5 rounded-lg touch-target","opacity-100 md:opacity-0 touch-visible",c?"text-gray-500 hover:text-red-400 active:text-red-400 hover:bg-white/5 active:bg-white/10":"text-slate-400 hover:text-red-500 active:text-red-500 hover:bg-slate-100 active:bg-red-50"),children:e.jsx(fe,{size:18})})]}),e.jsx("div",{className:l("h-[2px] w-full",g.bgGlow,g.shadowGlow)}),e.jsx(U,{initial:!1,children:!k&&e.jsxs(b.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:l("flex-1 flex flex-col","md:h-full md:opacity-100 md:block"),children:[e.jsxs("div",{className:l("flex-1 flex flex-col gap-3 p-3","min-h-[150px]","md:overflow-y-auto md:overflow-x-hidden no-scrollbar"),style:{overscrollBehaviorY:"contain",WebkitOverflowScrolling:"touch"},children:[e.jsx(Oe,{items:R,strategy:_e,children:e.jsx(U,{mode:"popLayout",children:n.map(m=>e.jsx(Ue,{task:m,deleteTask:o,updateTask:h},m.id))})}),e.jsx(U,{children:n.length===0&&!A&&e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:l("flex flex-col items-center justify-center p-8 mt-4","min-h-[120px]","border border-dashed rounded-xl text-center",c?"border-white/10 bg-white/5 text-gray-500":"border-slate-300 bg-slate-50 text-slate-400"),children:[e.jsx(ht,{size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No tasks yet"}),e.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Drop items here"})]})}),e.jsx(U,{children:A&&n.length===0&&e.jsx(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:l("flex items-center justify-center p-8","min-h-[120px]","border-2 border-dashed rounded-xl",c?"border-neon-purple/70 bg-neon-purple/10 text-neon-purple":"border-purple-400 bg-purple-100 text-purple-600"),children:e.jsx(b.p,{className:"text-sm font-semibold",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:"Drop here âœ“"})})})]}),e.jsx("div",{className:"p-3 pt-0",children:e.jsxs(b.button,{whileHover:{scale:1.01},whileTap:{scale:.99},className:l("flex gap-2 items-center justify-center w-full py-3 rounded-lg touch-target","border border-dashed transition-all duration-200 bg-transparent","font-medium text-sm",f==="gradient"?"border-white/40 text-white/60 hover:bg-white/10 hover:text-white active:bg-white/20":c?"border-gray-700 text-gray-500 hover:border-gray-500 hover:text-gray-300 hover:bg-white/5 active:bg-white/10":"border-slate-300 text-slate-400 hover:border-slate-400 hover:text-slate-600 hover:bg-slate-50 active:bg-slate-100"),onClick:()=>s(t.id),children:[e.jsx(xe,{size:18}),"Add Task"]})})]})})]})}const Ne=i.memo(zt);function Ft({column:t,isDark:a,mode:r}){const{setNodeRef:s,isOver:n}=Ae({id:`dock-column-${t.id}`,data:{type:"Column",column:t}});i.useEffect(()=>{n&&navigator.vibrate&&navigator.vibrate(20)},[n]);const o=x=>{if(r==="nav"){x.preventDefault(),x.stopPropagation();const v=document.getElementById(`column-${t.id}`);v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),navigator.vibrate&&navigator.vibrate(10))}};let h="",c="";t.id==="todo"?(h=a?"bg-gray-600":"bg-slate-200",c="shadow-gray-500/50"):t.id==="doing"?(h=a?"bg-neon-blue":"bg-blue-500",c="shadow-blue-500/50"):t.id==="done"?(h=a?"bg-neon-green":"bg-green-500",c="shadow-green-500/50"):(h=a?"bg-neon-purple":"bg-purple-500",c="shadow-purple-500/50");const f=t.title.slice(0,3).toUpperCase();return r==="nav"?e.jsx("div",{onClick:o,className:"flex flex-col items-center gap-1 cursor-pointer active:scale-90 transition-transform p-2 w-16",children:e.jsx("div",{className:l("w-12 h-12 rounded-2xl flex items-center justify-center text-[10px] font-bold shadow-sm transition-colors border border-white/5",a?"bg-[#252529] text-gray-300":"bg-white text-gray-600"),children:f})}):e.jsxs("div",{ref:s,className:l("relative flex flex-col items-center justify-end group","h-28 -mt-10 w-20","transition-all duration-200"),children:[e.jsx("div",{className:l("w-14 h-14 rounded-xl flex items-center justify-center font-bold text-sm shadow-lg transition-all duration-200 border border-white/10 z-10",n?l(h,"scale-125 -translate-y-4 text-white shadow-xl ring-2 ring-white/50",c):a?"bg-white/10 text-gray-300":"bg-white/20 text-white"),children:f}),e.jsxs("div",{className:l("absolute -top-2 bg-black/80 text-white text-[10px] px-2 py-1 rounded-md whitespace-nowrap transition-opacity duration-200",n?"opacity-100":"opacity-0"),children:["Move to ",t.title]})]})}function Gt({columns:t,isDragging:a}){const{isDark:r}=H(),s=a?"drop":"nav";return e.jsx("div",{className:l("fixed z-50 transition-all duration-300 md:hidden flex items-center justify-around","bottom-6 left-4 right-4",s==="drop"?l("h-24","rounded-2xl border backdrop-blur-xl shadow-2xl px-2",r?"bg-[#1A1A1E]/95 border-white/10":"bg-black/80 border-white/20"):l("h-16","rounded-full border backdrop-blur-md shadow-lg px-4",r?"bg-[#1A1A1E]/80 border-white/5":"bg-white/80 border-slate-200")),children:t.map(n=>e.jsx(Ft,{column:n,isDark:r,mode:s},n.id))})}const Ut=[{id:ne.dark,icon:bt,label:"Dark Mode"},{id:ne.light,icon:yt,label:"Light Mode"},{id:ne.gradient,icon:ft,label:"Dynamic Mode"}];function Ke({isInline:t=!1}){const{theme:a,setTheme:r,themeConfig:s,isDark:n}=H();return e.jsx(b.div,{initial:t?{opacity:1}:{opacity:0,y:20},animate:t?{opacity:1}:{opacity:1,y:0},transition:{delay:.3},className:l(t?"relative":"fixed z-50",!t&&"bottom-[calc(1.5rem+env(safe-area-inset-bottom))] right-[calc(1.5rem+env(safe-area-inset-right))]","flex items-center gap-1 p-1.5 rounded-full","backdrop-blur-xl shadow-lg",n?"bg-black/40 border border-white/10":"bg-white/80 border border-slate-200"),role:"radiogroup","aria-label":"Theme selector",children:Ut.map(({id:o,icon:h,label:c})=>e.jsxs(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(o),title:c,"aria-label":c,"aria-checked":a===o,role:"radio",className:l("p-2.5 rounded-full transition-all duration-300 relative",a===o?n?"bg-neon-purple text-white shadow-[0_0_15px_rgba(184,51,255,0.5)]":"bg-slate-800 text-white shadow-md":n?"text-gray-400 hover:text-white hover:bg-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100"),children:[e.jsx(h,{size:18}),a===o&&e.jsx(b.div,{layoutId:"theme-indicator",className:l("absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full",n?"bg-neon-green":"bg-green-500")})]},o))})}function Kt({stats:t}){const{themeConfig:a,isDark:r}=H(),{total:s,completed:n,percentage:o}=t,h=()=>o>=100?r?"from-neon-green to-emerald-400":"from-green-400 to-emerald-500":o>=75?r?"from-neon-blue to-cyan-400":"from-blue-400 to-cyan-500":o>=50?r?"from-neon-purple to-indigo-500":"from-purple-400 to-indigo-500":r?"from-neon-purple via-pink-500 to-neon-red":"from-purple-400 via-pink-400 to-red-400";return e.jsxs("div",{className:"flex-1 min-w-[200px] md:min-w-[300px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{size:16,className:r?"text-gray-500":"text-slate-400"}),e.jsx("span",{className:l("text-sm font-medium",r?"text-gray-400":"text-slate-500"),children:"Progress"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b.span,{initial:{scale:1.2,color:r?"#33FF99":"#22c55e"},animate:{scale:1,color:r?"#f3f4f6":"#334155"},className:l("font-bold text-sm",a.textPrimary),children:[o,"%"]},o),e.jsxs("span",{className:l("text-xs",r?"text-gray-500":"text-slate-400"),children:["(",n,"/",s,")"]}),o===100&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},className:l("p-0.5 rounded-full",r?"bg-neon-green/20":"bg-green-100"),children:e.jsx(Le,{size:14,className:r?"text-neon-green":"text-green-500"})})]})]}),e.jsxs("div",{className:l("relative w-full h-2.5 rounded-full overflow-hidden",r?"bg-gray-700/30":"bg-slate-200"),children:[e.jsx("div",{className:l("absolute inset-0 opacity-30",r?"bg-white/5":"bg-slate-100")}),e.jsx(b.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.8,ease:[.4,0,.2,1]},className:l("h-full rounded-full bg-gradient-to-r relative overflow-hidden",h(),r&&"shadow-[0_0_15px_rgba(184,51,255,0.4)]"),children:e.jsx(b.div,{animate:{x:["100%","-100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"absolute inset-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"})})]})]})}function me(t,a){const[r,s]=i.useState(()=>{try{const h=localStorage.getItem(t);return h!==null?JSON.parse(h):a}catch(h){return console.warn(`[useLocalStorage] Error reading "${t}":`,h),a}});i.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(r))}catch(h){console.error(`[useLocalStorage] Error saving "${t}":`,h)}},[t,r]);const n=i.useCallback(h=>{s(c=>typeof h=="function"?h(c):h)},[]),o=i.useCallback(()=>{try{localStorage.removeItem(t),s(a)}catch(h){console.error(`[useLocalStorage] Error removing "${t}":`,h)}},[t,a]);return[r,n,o]}function Se(t,a,r){const s=`kanban-${a}-${t}`;return me(s,r)}const G={PROJECTS:"kanban-projects",ACTIVE_PROJECT:"kanban-active-project",THEME:"kanban-theme",COLUMNS:t=>`kanban-columns-${t}`,TASKS:t=>`kanban-tasks-${t}`},Te=(t,a=null)=>{try{const r=localStorage.getItem(t);return r===null?a:JSON.parse(r)}catch(r){return console.warn(`[Storage] Failed to parse "${t}":`,r),a}},re=(t,a)=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(r){console.error(`[Storage] Failed to save "${t}":`,r)}},Ee=t=>{try{localStorage.removeItem(t)}catch(a){console.error(`[Storage] Failed to remove "${t}":`,a)}},$t=t=>{const a={version:1,exportedAt:new Date().toISOString(),projects:t,projectData:{}};return t.forEach(r=>{a.projectData[r.id]={columns:Te(G.COLUMNS(r.id),[]),tasks:Te(G.TASKS(r.id),[])}}),a},Wt=t=>{var a;try{if(!(t!=null&&t.projects)||!Array.isArray(t.projects))throw new Error("Invalid backup format: missing projects array");re(G.PROJECTS,t.projects);const r=t.activeProjectId||((a=t.projects[0])==null?void 0:a.id);return r&&re(G.ACTIVE_PROJECT,r),t.projectData&&Object.entries(t.projectData).forEach(([s,n])=>{n.columns&&re(G.COLUMNS(s),n.columns),n.tasks&&re(G.TASKS(s),n.tasks)}),t.columns&&typeof t.columns=="object"&&Object.entries(t.columns).forEach(([s,n])=>{re(G.COLUMNS(s),n)}),t.tasks&&typeof t.tasks=="object"&&Object.entries(t.tasks).forEach(([s,n])=>{re(G.TASKS(s),n)}),!0}catch(r){return console.error("[Storage] Import failed:",r),!1}};function Vt(){const[t,a]=me(G.PROJECTS,[je]),[r,s]=me(G.ACTIVE_PROJECT,je.id);i.useEffect(()=>{!t.some(v=>v.id===r)&&t.length>0&&s(t[0].id)},[t,r,s]);const n=i.useMemo(()=>t.find(x=>x.id===r)||t[0],[t,r]),o=i.useCallback(x=>{const v={id:ge(),name:x.trim()||"Untitled Project",createdAt:new Date().toISOString()};return a(k=>[...k,v]),s(v.id),v},[a,s]),h=i.useCallback(x=>{var v;if(t.length<=1)return console.warn("[useProjects] Cannot delete last project"),!1;if(a(k=>k.filter(y=>y.id!==x)),Ee(G.COLUMNS(x)),Ee(G.TASKS(x)),r===x){const k=t.filter(y=>y.id!==x);s(((v=k[0])==null?void 0:v.id)||"")}return!0},[t,r,a,s]),c=i.useCallback((x,v)=>{a(k=>k.map(y=>y.id===x?{...y,name:v.trim()||y.name,updatedAt:new Date().toISOString()}:y))},[a]),f=i.useCallback(x=>{t.some(v=>v.id===x)&&s(x)},[t,s]);return{projects:t,activeProjectId:r,activeProject:n,createProject:o,deleteProject:h,renameProject:c,selectProject:f,setActiveProjectId:s}}const Ie=()=>{const t=["#FF3366","#33E1FF","#33FF99","#B833FF","#FFD700"];ue({particleCount:100,spread:70,origin:{y:.6},colors:t,disableForReducedMotion:!0}),setTimeout(()=>{ue({particleCount:50,angle:60,spread:55,origin:{x:0},colors:t}),ue({particleCount:50,angle:120,spread:55,origin:{x:1},colors:t})},At.CONFETTI_DELAY)},Me=t=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(t)};function Yt(t){const a=t==="default",[r,s]=Se(t,"columns",Ce),[n,o]=Se(t,"tasks",a?Pt:[]),[h,c]=i.useState(null),[f,x]=i.useState(null),[v,k]=i.useState(""),y=i.useRef(!1),E=i.useMemo(()=>r.map(g=>g.id),[r]),L=i.useMemo(()=>{if(!v.trim())return n;const g=v.toLowerCase();return n.filter(u=>u.title.toLowerCase().includes(g)||u.content.toLowerCase().includes(g))},[n,v]),R=i.useMemo(()=>{const g={};return r.forEach(u=>{g[u.id]=[]}),L.forEach(u=>{g[u.columnId]&&g[u.columnId].push(u)}),g},[L,r]),D=i.useCallback(g=>{const u={id:ge(),title:(g==null?void 0:g.trim())||`Column ${r.length+1}`};return s(p=>[...p,u]),u},[r.length,s]),M=i.useCallback((g,u)=>{s(p=>p.map(m=>m.id===g?{...m,title:u}:m))},[s]),T=i.useCallback(g=>{s(u=>u.filter(p=>p.id!==g)),o(u=>u.filter(p=>p.columnId!==g))},[s,o]),I=i.useCallback((g,u={})=>{const p={id:ge(),columnId:g,title:u.title||`Task ${n.length+1}`,content:u.content||"",color:u.color||Dt(),priority:u.priority||q.MEDIUM,createdAt:new Date().toISOString()};return o(m=>[...m,p]),p},[n.length,o]),K=i.useCallback((g,u)=>{o(p=>p.map(m=>m.id===g?{...m,...u,updatedAt:new Date().toISOString()}:m))},[o]),B=i.useCallback(g=>{o(u=>u.filter(p=>p.id!==g))},[o]),V=i.useCallback((g,u)=>{o(p=>p.map(m=>m.id===g?{...m,columnId:u}:m))},[o]),A=i.useCallback(g=>{var m;Me(10);const{active:u}=g,p=(m=u.data.current)==null?void 0:m.type;p==="Column"?c(u.data.current.column):p==="Task"&&x(u.data.current.task)},[]),w=i.useCallback(g=>{var N,$,d;Me([10,30,10]),c(null),x(null),y.current&&(Ie(),y.current=!1);const{active:u,over:p}=g;if(!p||u.id===p.id)return;const m=((N=u.data.current)==null?void 0:N.type)==="Task",J=(($=p.data.current)==null?void 0:$.type)==="Task",O=((d=u.data.current)==null?void 0:d.type)==="Column";if(m&&String(p.id).startsWith("dock-column-")){const C=String(p.id).replace("dock-column-",""),Y=u.id;o(z=>{const _=z.findIndex(se=>se.id===Y);if(_===-1)return z;const ee=[...z];return ee[_]={...ee[_],columnId:C},C==="done"&&Ie(),ee});return}m&&J&&o(C=>{const Y=C.findIndex(_=>_.id===u.id),z=C.findIndex(_=>_.id===p.id);return Y!==-1&&z!==-1&&C[Y].columnId===C[z].columnId?ce(C,Y,z):C}),O&&s(C=>{const Y=C.findIndex(_=>_.id===u.id),z=C.findIndex(_=>_.id===p.id);return ce(C,Y,z)})},[o,s]),P=i.useCallback(g=>{var C,Y,z,_,ee,se,we;const{active:u,over:p}=g;if(!p||u.id===p.id)return;const m=((C=u.data.current)==null?void 0:C.type)==="Task",J=((Y=p.data.current)==null?void 0:Y.type)==="Task",O=((z=p.data.current)==null?void 0:z.type)==="Column";if(!m)return;const N=(_=u.data.current)==null?void 0:_.task,$=(N==null?void 0:N.columnId)==="done",d=Z=>{const W=String(Z);return W.startsWith("column-drop-")?W.replace("column-drop-",""):W};if(!String(p.id).startsWith("dock-column-")){if(m&&J){const Z=(ee=p.data.current)==null?void 0:ee.task,W=Z==null?void 0:Z.columnId;!$&&W==="done"&&(y.current=!0),o(F=>{const Q=F.findIndex(X=>X.id===u.id),te=F.findIndex(X=>X.id===p.id);if(Q===-1||te===-1)return F;if(F[Q].columnId!==F[te].columnId){const X=[...F];return X[Q]={...X[Q],columnId:X[te].columnId},ce(X,Q,te-1)}return F})}if(m&&O){const Z=d(((we=(se=p.data.current)==null?void 0:se.column)==null?void 0:we.id)||p.id);!$&&Z==="done"&&(y.current=!0),o(W=>{const F=W.findIndex(te=>te.id===u.id);if(F===-1||W[F].columnId===Z)return W;const Q=[...W];return Q[F]={...Q[F],columnId:Z},Q})}}},[o]),j=i.useMemo(()=>{const g=n.length,u=n.filter(O=>O.columnId==="done").length,p=n.filter(O=>O.columnId==="doing").length,m=n.filter(O=>O.columnId==="todo").length,J=g>0?Math.round(u/g*100):0;return{total:g,completed:u,inProgress:p,todo:m,percentage:J}},[n]);return{columns:r,tasks:n,filteredTasks:L,tasksByColumn:R,columnIds:E,activeColumn:h,activeTask:f,searchQuery:v,stats:j,createColumn:D,updateColumn:M,deleteColumn:T,createTask:I,updateTask:K,deleteTask:B,moveTask:V,setSearchQuery:k,handleDragStart:A,handleDragEnd:w,handleDragOver:P}}function qt(t,a=!0){const r=i.useCallback(s=>{if(!a)return;const n=s.target;if((n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable)&&s.key!=="Escape")return;const o=s.key.toLowerCase(),h=t[o];h&&(s.preventDefault(),h(s))},[t,a]);i.useEffect(()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)),[r])}function $e({onNewTask:t,onSearch:a,onToggleSidebar:r,onToggleTheme:s,onEscape:n}){const o={};t&&(o[ae.NEW_TASK]=t),a&&(o[ae.SEARCH]=a),r&&(o[ae.TOGGLE_SIDEBAR]=r),s&&(o[ae.TOGGLE_THEME]=s),n&&(o[ae.ESCAPE.toLowerCase()]=n),qt(o)}function Jt({projectId:t,onToggleSidebar:a}){const{themeConfig:r,isDark:s,theme:n}=H(),o=i.useRef(null),h=i.useRef(null),{columns:c,tasksByColumn:f,columnIds:x,activeColumn:v,activeTask:k,searchQuery:y,stats:E,createColumn:L,updateColumn:R,deleteColumn:D,createTask:M,updateTask:T,deleteTask:I,setSearchQuery:K,handleDragStart:B,handleDragEnd:V,handleDragOver:A}=Yt(t),w=!!(v||k),P=Ye(ve(tt,{activationConstraint:{distance:he.MOUSE_ACTIVATION_DISTANCE}}),ve(et,{activationConstraint:{delay:he.TOUCH_DELAY,tolerance:he.TOUCH_TOLERANCE}})),j=i.useMemo(()=>({droppable:{strategy:qe.Always}}),[]),g=i.useCallback(()=>{var N;(N=o.current)==null||N.focus()},[]),u=i.useCallback(()=>{c.length>0&&M(c[0].id)},[c,M]);$e({onSearch:g,onNewTask:u,onToggleSidebar:a});const[p,m]=i.useState(!1);i.useEffect(()=>{const N=()=>m(window.innerWidth<768);return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const J=p?_e:Qe,O=i.useMemo(()=>({enabled:!0,threshold:{x:p?0:.2,y:p?.2:0},acceleration:0,maxSpeed:12,layoutShiftCompensation:!1}),[p]);return e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 flex flex-col h-[100dvh] overflow-hidden",children:[e.jsxs("div",{className:"flex-shrink-0 overflow-hidden relative z-40 bg-inherit",children:[e.jsxs(b.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 px-4 md:px-8 py-5",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsx(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:l("p-2 rounded-lg transition-colors md:hidden touch-target shrink-0",s?"text-gray-400 hover:bg-white/10 hover:text-white":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"),onClick:a,"aria-label":"Toggle sidebar",children:e.jsx(pt,{size:24})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Ke,{isInline:!0})}),e.jsx("div",{className:"flex-1 md:flex-none",children:e.jsx(Kt,{stats:E})})]}),e.jsxs("div",{className:"relative w-full md:w-[300px] shrink-0",children:[e.jsx(xt,{size:18,className:l("absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",s?"text-gray-500":"text-slate-400")}),e.jsx("input",{ref:o,type:"text",className:l("w-full pl-10 pr-4 py-3 rounded-lg outline-none transition-all duration-300","text-[16px]",r.inputBg,s?"focus:border-neon-purple focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":n==="gradient"?"focus:border-white/50 focus:shadow-[0_0_15px_rgba(255,255,255,0.2)]":"focus:border-purple-500 focus:shadow-md focus:ring-1 focus:ring-purple-200"),placeholder:"Search tasks...",value:y,onChange:N=>K(N.target.value),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),e.jsx("div",{className:l("absolute right-3 top-1/2 -translate-y-1/2 hidden md:flex items-center gap-1 text-xs",s?"text-gray-600":"text-slate-400"),children:e.jsx("kbd",{className:l("px-1.5 py-0.5 rounded border text-[10px] font-mono",s?"border-white/10 bg-white/5":"border-slate-200 bg-slate-100"),children:"/"})})]})]}),e.jsxs(Je,{sensors:P,collisionDetection:Ze,measuring:j,autoScroll:O,onDragStart:B,onDragEnd:V,onDragOver:A,children:[e.jsxs(b.div,{ref:h,id:"kanban-scroll-container",variants:Nt,initial:"initial",animate:"animate",className:l("flex-1 min-h-0 flex","flex-col overflow-y-auto overflow-x-hidden px-4 pb-24","md:flex-row md:overflow-x-auto md:overflow-y-hidden md:gap-4 md:px-0 md:items-stretch md:pb-0","no-scrollbar",!w&&"md:snap-x md:snap-mandatory","ios-scroll-y md:ios-scroll-x"),style:{WebkitOverflowScrolling:"touch",scrollBehavior:w?"auto":"smooth"},children:[e.jsx(Oe,{items:x,strategy:J,children:e.jsx(U,{mode:"popLayout",children:c.map((N,$)=>e.jsx(b.div,{variants:St,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:$*.05},children:e.jsx(Ne,{column:N,deleteColumn:D,updateColumn:R,createTask:M,deleteTask:I,updateTask:T,tasks:f[N.id]||[]})},N.id))})}),e.jsxs(b.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:L,className:l("h-[60px] w-full shrink-0 cursor-pointer rounded-xl p-4 flex gap-2 items-center justify-center touch-target","md:min-w-[350px] md:w-[350px] md:self-start","border-2 border-dashed transition-all",!w&&"md:snap-center",s?"bg-white/5 border-white/10 hover:border-gray-500 text-gray-500 hover:text-white hover:bg-white/10":"bg-slate-50 border-slate-300 hover:border-slate-400 text-slate-400 hover:text-slate-600 hover:bg-slate-100"),children:[e.jsx(xe,{size:20}),e.jsx("span",{className:"font-medium",children:"Add Column"})]})]}),ie.createPortal(e.jsx(Gt,{columns:c,isDragging:w,activeTaskId:k==null?void 0:k.id}),document.body),ie.createPortal(e.jsxs(Xe,{dropAnimation:{duration:200,easing:"cubic-bezier(0.2, 0.8, 0.2, 1)"},style:{zIndex:9999},children:[v&&e.jsx(Ne,{column:v,deleteColumn:D,updateColumn:R,createTask:M,deleteTask:I,updateTask:T,tasks:f[v.id]||[]}),k&&e.jsx(Ue,{task:k,deleteTask:I,updateTask:T,isOverlay:!0})]}),document.body)]})]}),e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:l("hidden md:flex items-center gap-4 px-8 py-3 text-xs",s?"text-gray-600":"text-slate-400"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(gt,{size:14}),e.jsx("span",{children:"Shortcuts:"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"N"})," New Task"]}),e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"/"})," Search"]}),e.jsxs("span",{children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded border border-current/20",children:"B"})," Sidebar"]})]})]})]})}function Zt({projects:t,activeProjectId:a,onSelectProject:r,onCreateProject:s,onDeleteProject:n,onRenameProject:o,isOpen:h,onClose:c}){const{themeConfig:f,isDark:x}=H(),[v,k]=i.useState(!1),[y,E]=i.useState(""),[L,R]=i.useState(null),[D,M]=i.useState(""),[T,I]=i.useState(null),K=()=>{if(!y.trim()){k(!1);return}s(y),E(""),k(!1)},B=w=>{D.trim()&&o(w,D),R(null),M("")},V=i.useCallback(()=>{const w=$t(t),P=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),j=URL.createObjectURL(P),g=document.createElement("a");g.href=j,g.download=`kanban-backup-${new Date().toISOString().split("T")[0]}.json`,g.click(),URL.revokeObjectURL(j)},[t]),A=i.useCallback(w=>{const P=w.target.files[0];if(!P)return;const j=new FileReader;j.onload=g=>{try{const u=JSON.parse(g.target.result);window.confirm("This will overwrite all current data. Continue?")&&(Wt(u)?window.location.reload():alert("Failed to import backup. Please check the file format."))}catch(u){alert("Failed to import backup: "+u.message)}},j.readAsText(P),w.target.value=""},[]);return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:h&&e.jsx(b.div,{...Fe,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:c})}),e.jsxs(b.div,{initial:!1,animate:{x:h?0:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:l("fixed inset-y-0 left-0 z-50 flex flex-col","w-[280px] h-[100dvh]","md:relative md:h-full md:translate-x-0 md:!transform-none md:z-0","shadow-2xl md:shadow-none",f.sidebarBg,f.borderColor,"border-r"),children:[e.jsxs("div",{className:l("p-5 flex items-center justify-between",f.borderColor,"border-b"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b.div,{whileHover:{rotate:5,scale:1.05},className:l("p-2.5 rounded-xl",x?"bg-gradient-to-br from-neon-red/20 to-neon-purple/20":"bg-gradient-to-br from-red-100 to-purple-100"),children:e.jsx(dt,{className:x?"text-neon-red":"text-red-500",size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:l("font-bold text-lg tracking-wide",f.textPrimary),children:"Projects"}),e.jsxs("p",{className:l("text-xs",f.textSecondary),children:[t.length," project",t.length!==1?"s":""]})]})]}),e.jsx("button",{onClick:c,className:l("md:hidden p-2 rounded-lg transition-colors",x?"hover:bg-white/10 text-gray-400":"hover:bg-slate-100 text-slate-500"),children:e.jsx(Be,{size:20})})]}),e.jsxs("div",{className:"flex-1 ios-scroll-y p-3 flex flex-col gap-1.5",children:[e.jsx(U,{mode:"popLayout",children:t.map((w,P)=>e.jsxs(b.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:P*.03},onClick:()=>r(w.id),className:l("p-3 rounded-xl cursor-pointer flex justify-between items-center group transition-all duration-200",w.id===a?x?"bg-gradient-to-r from-neon-purple/15 to-transparent text-neon-purple border border-neon-purple/20":"bg-gradient-to-r from-purple-100 to-transparent text-purple-700 border border-purple-200":l(f.textSecondary,x?"hover:bg-white/5 hover:text-gray-100":"hover:bg-slate-100 hover:text-slate-800","border border-transparent")),children:[L===w.id?e.jsx("input",{autoFocus:!0,className:l("bg-transparent border-b outline-none w-full font-medium",x?"border-neon-purple text-white":"border-purple-500 text-slate-800"),value:D,onChange:j=>M(j.target.value),onClick:j=>j.stopPropagation(),onBlur:()=>B(w.id),onKeyDown:j=>{j.key==="Enter"&&B(w.id),j.key==="Escape"&&R(null)}}):e.jsx("span",{className:"truncate font-medium flex-1",onDoubleClick:j=>{j.stopPropagation(),R(w.id),M(w.name)},children:w.name}),t.length>1&&L!==w.id&&e.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j=>{j.stopPropagation(),R(w.id),M(w.name)},className:l("p-1.5 rounded-lg transition-colors",x?"hover:bg-white/10 text-gray-400 hover:text-white":"hover:bg-slate-200 text-slate-400 hover:text-slate-700"),children:e.jsx(He,{size:14})}),e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j=>{j.stopPropagation(),I(w)},className:l("p-1.5 rounded-lg transition-colors",x?"hover:bg-neon-red/10 text-gray-400 hover:text-neon-red":"hover:bg-red-100 text-slate-400 hover:text-red-500"),children:e.jsx(fe,{size:14})})]})]},w.id))}),e.jsx(U,{mode:"wait",children:v?e.jsx(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-2",children:e.jsx("input",{autoFocus:!0,className:l("w-full rounded-lg p-3 border outline-none transition-shadow","text-[16px]",x?"bg-white/5 text-white border-neon-purple/30 focus:shadow-[0_0_15px_rgba(184,51,255,0.2)]":"bg-white text-slate-800 border-purple-200 focus:shadow-md focus:border-purple-500"),placeholder:"Project name...",value:y,onChange:w=>E(w.target.value),onBlur:()=>{y.trim()||k(!1)},onKeyDown:w=>{w.key==="Enter"&&K(),w.key==="Escape"&&k(!1)}})},"input"):e.jsxs(b.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>k(!0),className:l("flex items-center gap-3 p-3 rounded-xl transition-all duration-200 mt-2","border border-dashed",x?"border-white/10 text-gray-500 hover:text-neon-purple hover:border-neon-purple/30 hover:bg-neon-purple/5":"border-slate-200 text-slate-400 hover:text-purple-600 hover:border-purple-300 hover:bg-purple-50"),children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:"New Project"})]},"button")})]}),e.jsxs("div",{className:l("p-4 flex gap-2 safe-area-bottom",f.borderColor,"border-t"),children:[e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:V,className:l("flex-1 flex items-center justify-center gap-2 text-xs py-2.5 rounded-lg transition-colors",f.buttonBg,f.buttonHover,f.textSecondary,f.borderColor,"border"),children:[e.jsx(lt,{size:14}),"Export"]}),e.jsxs("label",{className:l("flex-1 flex items-center justify-center gap-2 text-xs py-2.5 rounded-lg transition-colors cursor-pointer",f.buttonBg,f.buttonHover,f.textSecondary,f.borderColor,"border"),children:[e.jsx(vt,{size:14}),"Import",e.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:A})]})]})]}),e.jsx(Et,{isOpen:!!T,onClose:()=>I(null),onConfirm:()=>n(T==null?void 0:T.id),title:"Delete Project?",message:`Are you sure you want to delete "${T==null?void 0:T.name}"? This action cannot be undone.`,confirmText:"Delete Project",variant:"danger"})]})}function Qt(){const{themeConfig:t,theme:a}=H(),[r,s]=i.useState(!1),{projects:n,activeProjectId:o,createProject:h,deleteProject:c,renameProject:f,selectProject:x}=Vt();$e({onToggleSidebar:()=>s(y=>!y),onEscape:()=>s(!1)});const v=y=>{x(y),s(!1)},k=()=>{if(a!=="gradient")return{};const y=new Date().getHours();let E;return y>=5&&y<10?E="linear-gradient(to bottom right, #a5b4fc, #c4b5fd, #f9a8d4)":y>=10&&y<16?E="linear-gradient(to bottom right, #67e8f9, #93c5fd, #a5b4fc)":y>=16&&y<19?E="linear-gradient(to bottom right, #fb923c, #fb7185, #a855f7)":E="linear-gradient(to bottom right, #111827, #581c87, #5b21b6)",{background:E,backgroundSize:"400% 400%",animation:"gradient-shift 15s ease infinite"}};return e.jsxs("div",{className:l("flex w-full overflow-hidden transition-colors duration-500","h-[100dvh]","safe-area-padding",a!=="gradient"&&t.background,t.textPrimary),style:{...k(),minHeight:"-webkit-fill-available"},children:[e.jsx(Zt,{projects:n,activeProjectId:o,onSelectProject:v,onCreateProject:h,onDeleteProject:c,onRenameProject:f,isOpen:r,onClose:()=>s(!1)}),e.jsx("main",{className:"flex-1 w-full h-full overflow-hidden relative z-0",children:e.jsx(U,{mode:"wait",children:e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full h-full",children:e.jsx(Jt,{projectId:o,onToggleSidebar:()=>s(!r)})},o)})}),e.jsx(Ke,{})]})}function Xt(){return e.jsx(Ct,{children:e.jsx(Qt,{})})}class er extends De.Component{constructor(r){super(r);de(this,"handleReload",()=>{window.location.reload()});de(this,"handleReset",()=>{window.confirm("This will reset all your data. Are you sure?")&&(localStorage.clear(),window.location.reload())});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s}),console.error("[ErrorBoundary] Uncaught error:",r,s)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0F0F12] text-white p-6",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 rounded-full bg-red-500/10 ring-2 ring-red-500/30",children:e.jsx(st,{size:48,className:"text-red-400"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-400 text-center mb-6",children:"The application encountered an unexpected error."}),e.jsxs("details",{className:"mb-6 bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-300 hover:text-white",children:"Show error details"}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"p-3 bg-black/50 rounded-lg overflow-auto max-h-32",children:e.jsx("code",{className:"text-xs font-mono text-red-400 block whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})}),this.state.errorInfo&&e.jsx("pre",{className:"text-xs text-gray-500 overflow-auto max-h-48 p-2",children:this.state.errorInfo.componentStack})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white rounded-xl font-medium transition-all shadow-lg",children:[e.jsx(mt,{size:18}),"Reload App"]}),e.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl font-medium transition-all border border-white/10",children:[e.jsx(ut,{size:18}),"Reset Data"]})]}),e.jsx("p",{className:"text-center text-xs text-gray-600 mt-6",children:"If this problem persists, try clearing your browser cache."})]})}):this.props.children}}pe.createRoot(document.getElementById("root")).render(e.jsx(De.StrictMode,{children:e.jsx(er,{children:e.jsx(Xt,{})})}));
